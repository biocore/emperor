/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/slickgrid@5.15.0/dist/browser/slick.grid.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";(()=>{var t=Object.defineProperty,e=(e,i,s)=>((e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s)(e,"symbol"!=typeof i?i+"":i,s),i=Slick.BindingEventService,s=Slick.ColAutosizeMode,o=Slick.Event,l=Slick.EventData,n=Slick.GlobalEditorLock,r=Slick.GridAutosizeColsMode,h=Slick.keyCode,a=Slick.preClickClassName,d=Slick.Range,c=Slick.RowSelectionMode,u=Slick.ValueFilterMode,p=Slick.Utils,m=Slick.WidthEvalMode,w=Slick.Draggable,g=Slick.MouseWheel,v=Slick.Resizable;window.Slick&&p.extend(Slick,{Grid:class{constructor(t,l,h,a,d){if(this.container=t,this.data=l,this.columns=h,this.externalPubSub=d,e(this,"slickGridVersion","5.15.0"),e(this,"cid",""),e(this,"onActiveCellChanged"),e(this,"onActiveCellPositionChanged"),e(this,"onAddNewRow"),e(this,"onAutosizeColumns"),e(this,"onBeforeAppendCell"),e(this,"onBeforeCellEditorDestroy"),e(this,"onBeforeColumnsResize"),e(this,"onBeforeDestroy"),e(this,"onBeforeEditCell"),e(this,"onBeforeFooterRowCellDestroy"),e(this,"onBeforeHeaderCellDestroy"),e(this,"onBeforeHeaderRowCellDestroy"),e(this,"onBeforeSetColumns"),e(this,"onBeforeSort"),e(this,"onBeforeUpdateColumns"),e(this,"onCellChange"),e(this,"onCellCssStylesChanged"),e(this,"onClick"),e(this,"onColumnsReordered"),e(this,"onColumnsDrag"),e(this,"onColumnsResized"),e(this,"onColumnsResizeDblClick"),e(this,"onCompositeEditorChange"),e(this,"onContextMenu"),e(this,"onDrag"),e(this,"onDblClick"),e(this,"onDragInit"),e(this,"onDragStart"),e(this,"onDragEnd"),e(this,"onFooterClick"),e(this,"onFooterContextMenu"),e(this,"onFooterRowCellRendered"),e(this,"onHeaderCellRendered"),e(this,"onHeaderClick"),e(this,"onHeaderContextMenu"),e(this,"onHeaderMouseEnter"),e(this,"onHeaderMouseLeave"),e(this,"onHeaderRowCellRendered"),e(this,"onHeaderRowMouseEnter"),e(this,"onHeaderRowMouseLeave"),e(this,"onPreHeaderContextMenu"),e(this,"onPreHeaderClick"),e(this,"onKeyDown"),e(this,"onMouseEnter"),e(this,"onMouseLeave"),e(this,"onRendered"),e(this,"onScroll"),e(this,"onSelectedRowsChanged"),e(this,"onSetOptions"),e(this,"onActivateChangedOptions"),e(this,"onSort"),e(this,"onValidationError"),e(this,"onViewportChanged"),e(this,"scrollbarDimensions"),e(this,"maxSupportedCssHeight"),e(this,"canvas",null),e(this,"canvas_context",null),e(this,"_options"),e(this,"_defaults",{alwaysShowVerticalScroll:!1,alwaysAllowHorizontalScroll:!1,explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableHtmlRendering:!0,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,autoEditNewRow:!0,autoCommitEdit:!1,suppressActiveCellChangeOnEdit:!1,enableCellNavigation:!0,enableColumnReorder:!0,unorderableColumnCssClass:"unorderable",asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,auto:!1,nonce:"",editorLock:n,showColumnHeader:!0,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,createPreHeaderPanel:!1,createTopHeaderPanel:!1,showPreHeaderPanel:!1,showTopHeaderPanel:!1,preHeaderPanelHeight:25,showTopPanel:!1,topPanelHeight:25,preHeaderPanelWidth:"auto",topHeaderPanelHeight:25,topHeaderPanelWidth:"auto",formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",rowHighlightCssClass:"highlight-animate",rowHighlightDuration:400,selectedCellCssClass:"selected",multiSelect:!0,enableCellRowSpan:!1,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,frozenRightViewportMinWidth:100,throwWhenFrozenNotAllViewable:!1,fullWidthRows:!1,multiColumnSort:!1,numberedMultiColumnSort:!1,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!1,defaultFormatter:this.defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row",preserveCopiedSelectionOnPaste:!1,preventDragFromKeys:["ctrlKey","metaKey"],showCellSelection:!0,viewportClass:void 0,minRowBuffer:3,emulatePagingWhenScrolling:!0,editorCellNavOnLRKeys:!1,enableMouseWheelScrollHandler:!0,doPaging:!0,autosizeColsMode:r.LegacyOff,autosizeColPaddingPx:4,rowTopOffsetRenderType:"top",scrollRenderThrottling:10,autosizeTextAvgToMWidthRatio:.75,viewportSwitchToScrollModeWidthPercent:void 0,viewportMinWidthPx:void 0,viewportMaxWidthPx:void 0,suppressCssChangesOnHiddenInit:!1,ffMaxSupportedCssHeight:6e6,maxSupportedCssHeight:1e9,maxPartialRowSpanRemap:5e3,sanitizer:void 0,logSanitizedHtml:!1,mixinDefaults:!0,shadowRoot:void 0}),e(this,"_columnDefaults",{name:"",headerCssClass:null,defaultSortAsc:!0,focusable:!0,hidden:!1,minWidth:30,maxWidth:void 0,rerenderOnResize:!1,reorderable:!0,resizable:!0,sortable:!1,selectable:!0}),e(this,"_columnAutosizeDefaults",{ignoreHeaderText:!1,colValueArray:void 0,allowAddlPercent:void 0,formatterOverride:void 0,autosizeMode:s.ContentIntelligent,rowSelectionModeOnInit:void 0,rowSelectionMode:c.FirstNRows,rowSelectionCount:100,valueFilterMode:u.None,widthEvalMode:m.Auto,sizeToRemaining:void 0,widthPx:void 0,contentSizePx:0,headerWidthPx:0,colDataTypeOf:void 0}),e(this,"_columnResizeTimer"),e(this,"_executionBlockTimer"),e(this,"_flashCellTimer"),e(this,"_highlightRowTimer"),e(this,"th"),e(this,"h"),e(this,"ph"),e(this,"n"),e(this,"cj"),e(this,"page",0),e(this,"offset",0),e(this,"vScrollDir",1),e(this,"_bindingEventService",new i),e(this,"initialized",!1),e(this,"_container"),e(this,"uid",`slickgrid_${Math.round(1e6*Math.random())}`),e(this,"_focusSink"),e(this,"_focusSink2"),e(this,"_groupHeaders",[]),e(this,"_headerScroller",[]),e(this,"_headers",[]),e(this,"_headerRows"),e(this,"_headerRowScroller"),e(this,"_headerRowSpacerL"),e(this,"_headerRowSpacerR"),e(this,"_footerRow"),e(this,"_footerRowScroller"),e(this,"_footerRowSpacerL"),e(this,"_footerRowSpacerR"),e(this,"_preHeaderPanel"),e(this,"_preHeaderPanelScroller"),e(this,"_preHeaderPanelSpacer"),e(this,"_preHeaderPanelR"),e(this,"_preHeaderPanelScrollerR"),e(this,"_preHeaderPanelSpacerR"),e(this,"_topHeaderPanel"),e(this,"_topHeaderPanelScroller"),e(this,"_topHeaderPanelSpacer"),e(this,"_topPanelScrollers"),e(this,"_topPanels"),e(this,"_viewport"),e(this,"_canvas"),e(this,"_style"),e(this,"_boundAncestors",[]),e(this,"stylesheet"),e(this,"columnCssRulesL"),e(this,"columnCssRulesR"),e(this,"viewportH",0),e(this,"viewportW",0),e(this,"canvasWidth",0),e(this,"canvasWidthL",0),e(this,"canvasWidthR",0),e(this,"headersWidth",0),e(this,"headersWidthL",0),e(this,"headersWidthR",0),e(this,"viewportHasHScroll",!1),e(this,"viewportHasVScroll",!1),e(this,"headerColumnWidthDiff",0),e(this,"headerColumnHeightDiff",0),e(this,"cellWidthDiff",0),e(this,"cellHeightDiff",0),e(this,"absoluteColumnMinWidth"),e(this,"hasFrozenRows",!1),e(this,"frozenRowsHeight",0),e(this,"actualFrozenRow",-1),e(this,"paneTopH",0),e(this,"paneBottomH",0),e(this,"viewportTopH",0),e(this,"viewportBottomH",0),e(this,"topPanelH",0),e(this,"headerRowH",0),e(this,"footerRowH",0),e(this,"tabbingDirection",1),e(this,"_activeCanvasNode"),e(this,"_activeViewportNode"),e(this,"activePosX"),e(this,"activePosY"),e(this,"activeRow"),e(this,"activeCell"),e(this,"activeCellNode",null),e(this,"currentEditor",null),e(this,"serializedEditorValue"),e(this,"editController"),e(this,"_prevDataLength",0),e(this,"_prevInvalidatedRowsCount",0),e(this,"_rowSpanIsCached",!1),e(this,"_colsWithRowSpanCache",{}),e(this,"rowsCache",{}),e(this,"renderedRows",0),e(this,"numVisibleRows",0),e(this,"prevScrollTop",0),e(this,"scrollHeight",0),e(this,"scrollTop",0),e(this,"lastRenderedScrollTop",0),e(this,"lastRenderedScrollLeft",0),e(this,"prevScrollLeft",0),e(this,"scrollLeft",0),e(this,"selectionModel"),e(this,"selectedRows",[]),e(this,"plugins",[]),e(this,"cellCssClasses",{}),e(this,"columnsById",{}),e(this,"sortColumns",[]),e(this,"columnPosLeft",[]),e(this,"columnPosRight",[]),e(this,"pagingActive",!1),e(this,"pagingIsLastPage",!1),e(this,"scrollThrottle"),e(this,"h_editorLoader"),e(this,"h_postrender"),e(this,"h_postrenderCleanup"),e(this,"postProcessedRows",{}),e(this,"postProcessToRow",null),e(this,"postProcessFromRow",null),e(this,"postProcessedCleanupQueue",[]),e(this,"postProcessgroupId",0),e(this,"counter_rows_rendered",0),e(this,"counter_rows_removed",0),e(this,"_paneHeaderL"),e(this,"_paneHeaderR"),e(this,"_paneTopL"),e(this,"_paneTopR"),e(this,"_paneBottomL"),e(this,"_paneBottomR"),e(this,"_headerScrollerL"),e(this,"_headerScrollerR"),e(this,"_headerL"),e(this,"_headerR"),e(this,"_groupHeadersL"),e(this,"_groupHeadersR"),e(this,"_headerRowScrollerL"),e(this,"_headerRowScrollerR"),e(this,"_footerRowScrollerL"),e(this,"_footerRowScrollerR"),e(this,"_headerRowL"),e(this,"_headerRowR"),e(this,"_footerRowL"),e(this,"_footerRowR"),e(this,"_topPanelScrollerL"),e(this,"_topPanelScrollerR"),e(this,"_topPanelL"),e(this,"_topPanelR"),e(this,"_viewportTopL"),e(this,"_viewportTopR"),e(this,"_viewportBottomL"),e(this,"_viewportBottomR"),e(this,"_canvasTopL"),e(this,"_canvasTopR"),e(this,"_canvasBottomL"),e(this,"_canvasBottomR"),e(this,"_viewportScrollContainerX"),e(this,"_viewportScrollContainerY"),e(this,"_headerScrollContainer"),e(this,"_headerRowScrollContainer"),e(this,"_footerRowScrollContainer"),e(this,"cssShow",{position:"absolute",visibility:"hidden",display:"block"}),e(this,"_hiddenParents",[]),e(this,"oldProps",[]),e(this,"enforceFrozenRowHeightRecalc",!1),e(this,"columnResizeDragging",!1),e(this,"slickDraggableInstance",null),e(this,"slickMouseWheelInstances",[]),e(this,"slickResizableInstances",[]),e(this,"sortableSideLeftInstance"),e(this,"sortableSideRightInstance"),e(this,"logMessageCount",0),e(this,"logMessageMaxCount",30),e(this,"_pubSubService"),this._container="string"==typeof this.container?document.querySelector(this.container):this.container,!this._container)throw new Error(`SlickGrid requires a valid container, ${this.container} does not exist in the DOM.`);this._pubSubService=d,this.onActiveCellChanged=new o("onActiveCellChanged",d),this.onActiveCellPositionChanged=new o("onActiveCellPositionChanged",d),this.onAddNewRow=new o("onAddNewRow",d),this.onAutosizeColumns=new o("onAutosizeColumns",d),this.onBeforeAppendCell=new o("onBeforeAppendCell",d),this.onBeforeCellEditorDestroy=new o("onBeforeCellEditorDestroy",d),this.onBeforeColumnsResize=new o("onBeforeColumnsResize",d),this.onBeforeDestroy=new o("onBeforeDestroy",d),this.onBeforeEditCell=new o("onBeforeEditCell",d),this.onBeforeFooterRowCellDestroy=new o("onBeforeFooterRowCellDestroy",d),this.onBeforeHeaderCellDestroy=new o("onBeforeHeaderCellDestroy",d),this.onBeforeHeaderRowCellDestroy=new o("onBeforeHeaderRowCellDestroy",d),this.onBeforeSetColumns=new o("onBeforeSetColumns",d),this.onBeforeSort=new o("onBeforeSort",d),this.onBeforeUpdateColumns=new o("onBeforeUpdateColumns",d),this.onCellChange=new o("onCellChange",d),this.onCellCssStylesChanged=new o("onCellCssStylesChanged",d),this.onClick=new o("onClick",d),this.onColumnsReordered=new o("onColumnsReordered",d),this.onColumnsDrag=new o("onColumnsDrag",d),this.onColumnsResized=new o("onColumnsResized",d),this.onColumnsResizeDblClick=new o("onColumnsResizeDblClick",d),this.onCompositeEditorChange=new o("onCompositeEditorChange",d),this.onContextMenu=new o("onContextMenu",d),this.onDrag=new o("onDrag",d),this.onDblClick=new o("onDblClick",d),this.onDragInit=new o("onDragInit",d),this.onDragStart=new o("onDragStart",d),this.onDragEnd=new o("onDragEnd",d),this.onFooterClick=new o("onFooterClick",d),this.onFooterContextMenu=new o("onFooterContextMenu",d),this.onFooterRowCellRendered=new o("onFooterRowCellRendered",d),this.onHeaderCellRendered=new o("onHeaderCellRendered",d),this.onHeaderClick=new o("onHeaderClick",d),this.onHeaderContextMenu=new o("onHeaderContextMenu",d),this.onHeaderMouseEnter=new o("onHeaderMouseEnter",d),this.onHeaderMouseLeave=new o("onHeaderMouseLeave",d),this.onHeaderRowCellRendered=new o("onHeaderRowCellRendered",d),this.onHeaderRowMouseEnter=new o("onHeaderRowMouseEnter",d),this.onHeaderRowMouseLeave=new o("onHeaderRowMouseLeave",d),this.onPreHeaderClick=new o("onPreHeaderClick",d),this.onPreHeaderContextMenu=new o("onPreHeaderContextMenu",d),this.onKeyDown=new o("onKeyDown",d),this.onMouseEnter=new o("onMouseEnter",d),this.onMouseLeave=new o("onMouseLeave",d),this.onRendered=new o("onRendered",d),this.onScroll=new o("onScroll",d),this.onSelectedRowsChanged=new o("onSelectedRowsChanged",d),this.onSetOptions=new o("onSetOptions",d),this.onActivateChangedOptions=new o("onActivateChangedOptions",d),this.onSort=new o("onSort",d),this.onValidationError=new o("onValidationError",d),this.onViewportChanged=new o("onViewportChanged",d),this.initialize(a)}init(){this.finishInitialization()}applyHtmlCode(t,e,i){if(t)if(e instanceof HTMLElement||e instanceof DocumentFragment)!1!==(null==i?void 0:i.emptyTarget)&&p.emptyElement(t),t.appendChild(e);else{if(!1!==(null==i?void 0:i.skipEmptyReassignment)&&!p.isDefined(e)&&!t.innerHTML)return;let s=e;"number"==typeof s||"boolean"==typeof s?t.textContent=s:(s=this.sanitizeHtmlString(e),this._options.enableHtmlRendering&&s?t.innerHTML=s:t.textContent=s)}}initialize(t){if(null!=t&&t.mixinDefaults?(this._options||(this._options=t),p.applyDefaults(this._options,this._defaults)):this._options=p.extend(!0,{},this._defaults,t),this.scrollThrottle=this.actionThrottle(this.render.bind(this),this._options.scrollRenderThrottling),this.maxSupportedCssHeight=this.maxSupportedCssHeight||this.getMaxSupportedCssHeight(),this.validateAndEnforceOptions(),this._columnDefaults.width=this._options.defaultColumnWidth,this._options.suppressCssChangesOnHiddenInit||this.cacheCssForHiddenInit(),this.updateColumnProps(),this._options.enableColumnReorder&&(!Sortable||!Sortable.create))throw new Error("SlickGrid requires Sortable.js module to be loaded");this.editController={commitCurrentEdit:this.commitCurrentEdit.bind(this),cancelCurrentEdit:this.cancelCurrentEdit.bind(this)},p.emptyElement(this._container),this._container.style.outline=String(0),this._container.classList.add(this.uid),this._container.classList.add("ui-widget"),this._container.setAttribute("role","grid");let e=window.getComputedStyle(this._container);/relative|absolute|fixed/.test(e.position)||(this._container.style.position="relative"),this._focusSink=p.createDomElement("div",{tabIndex:0,style:{position:"fixed",width:"0px",height:"0px",top:"0px",left:"0px",outline:"0px"}},this._container),this._options.createTopHeaderPanel&&(this._topHeaderPanelScroller=p.createDomElement("div",{className:"slick-topheader-panel slick-state-default",style:{overflow:"hidden",position:"relative"}},this._container),this._topHeaderPanelScroller.appendChild(document.createElement("div")),this._topHeaderPanel=p.createDomElement("div",null,this._topHeaderPanelScroller),this._topHeaderPanelSpacer=p.createDomElement("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._topHeaderPanelScroller),this._options.showTopHeaderPanel||p.hide(this._topHeaderPanelScroller)),this._paneHeaderL=p.createDomElement("div",{className:"slick-pane slick-pane-header slick-pane-left",tabIndex:0},this._container),this._paneHeaderR=p.createDomElement("div",{className:"slick-pane slick-pane-header slick-pane-right",tabIndex:0},this._container),this._paneTopL=p.createDomElement("div",{className:"slick-pane slick-pane-top slick-pane-left",tabIndex:0},this._container),this._paneTopR=p.createDomElement("div",{className:"slick-pane slick-pane-top slick-pane-right",tabIndex:0},this._container),this._paneBottomL=p.createDomElement("div",{className:"slick-pane slick-pane-bottom slick-pane-left",tabIndex:0},this._container),this._paneBottomR=p.createDomElement("div",{className:"slick-pane slick-pane-bottom slick-pane-right",tabIndex:0},this._container),this._options.createPreHeaderPanel&&(this._preHeaderPanelScroller=p.createDomElement("div",{className:"slick-preheader-panel ui-state-default slick-state-default",style:{overflow:"hidden",position:"relative"}},this._paneHeaderL),this._preHeaderPanelScroller.appendChild(document.createElement("div")),this._preHeaderPanel=p.createDomElement("div",null,this._preHeaderPanelScroller),this._preHeaderPanelSpacer=p.createDomElement("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._preHeaderPanelScroller),this._preHeaderPanelScrollerR=p.createDomElement("div",{className:"slick-preheader-panel ui-state-default slick-state-default",style:{overflow:"hidden",position:"relative"}},this._paneHeaderR),this._preHeaderPanelR=p.createDomElement("div",null,this._preHeaderPanelScrollerR),this._preHeaderPanelSpacerR=p.createDomElement("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._preHeaderPanelScrollerR),this._options.showPreHeaderPanel||(p.hide(this._preHeaderPanelScroller),p.hide(this._preHeaderPanelScrollerR))),this._headerScrollerL=p.createDomElement("div",{className:"slick-header ui-state-default slick-state-default slick-header-left"},this._paneHeaderL),this._headerScrollerR=p.createDomElement("div",{className:"slick-header ui-state-default slick-state-default slick-header-right"},this._paneHeaderR),this._headerScroller.push(this._headerScrollerL),this._headerScroller.push(this._headerScrollerR),this._headerL=p.createDomElement("div",{className:"slick-header-columns slick-header-columns-left",role:"row",style:{left:"-1000px"}},this._headerScrollerL),this._headerR=p.createDomElement("div",{className:"slick-header-columns slick-header-columns-right",role:"row",style:{left:"-1000px"}},this._headerScrollerR),this._headers=[this._headerL,this._headerR],this._headerRowScrollerL=p.createDomElement("div",{className:"slick-headerrow ui-state-default slick-state-default"},this._paneTopL),this._headerRowScrollerR=p.createDomElement("div",{className:"slick-headerrow ui-state-default slick-state-default"},this._paneTopR),this._headerRowScroller=[this._headerRowScrollerL,this._headerRowScrollerR],this._headerRowSpacerL=p.createDomElement("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._headerRowScrollerL),this._headerRowSpacerR=p.createDomElement("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._headerRowScrollerR),this._headerRowL=p.createDomElement("div",{className:"slick-headerrow-columns slick-headerrow-columns-left"},this._headerRowScrollerL),this._headerRowR=p.createDomElement("div",{className:"slick-headerrow-columns slick-headerrow-columns-right"},this._headerRowScrollerR),this._headerRows=[this._headerRowL,this._headerRowR],this._topPanelScrollerL=p.createDomElement("div",{className:"slick-top-panel-scroller ui-state-default slick-state-default"},this._paneTopL),this._topPanelScrollerR=p.createDomElement("div",{className:"slick-top-panel-scroller ui-state-default slick-state-default"},this._paneTopR),this._topPanelScrollers=[this._topPanelScrollerL,this._topPanelScrollerR],this._topPanelL=p.createDomElement("div",{className:"slick-top-panel",style:{width:"10000px"}},this._topPanelScrollerL),this._topPanelR=p.createDomElement("div",{className:"slick-top-panel",style:{width:"10000px"}},this._topPanelScrollerR),this._topPanels=[this._topPanelL,this._topPanelR],this._options.showColumnHeader||this._headerScroller.forEach((t=>{p.hide(t)})),this._options.showTopPanel||this._topPanelScrollers.forEach((t=>{p.hide(t)})),this._options.showHeaderRow||this._headerRowScroller.forEach((t=>{p.hide(t)})),this._viewportTopL=p.createDomElement("div",{className:"slick-viewport slick-viewport-top slick-viewport-left",tabIndex:0},this._paneTopL),this._viewportTopR=p.createDomElement("div",{className:"slick-viewport slick-viewport-top slick-viewport-right",tabIndex:0},this._paneTopR),this._viewportBottomL=p.createDomElement("div",{className:"slick-viewport slick-viewport-bottom slick-viewport-left",tabIndex:0},this._paneBottomL),this._viewportBottomR=p.createDomElement("div",{className:"slick-viewport slick-viewport-bottom slick-viewport-right",tabIndex:0},this._paneBottomR),this._viewport=[this._viewportTopL,this._viewportTopR,this._viewportBottomL,this._viewportBottomR],this._options.viewportClass&&this._viewport.forEach((t=>{t.classList.add(...p.classNameToList(this._options.viewportClass))})),this._activeViewportNode=this._viewportTopL,this._canvasTopL=p.createDomElement("div",{className:"grid-canvas grid-canvas-top grid-canvas-left",tabIndex:0},this._viewportTopL),this._canvasTopR=p.createDomElement("div",{className:"grid-canvas grid-canvas-top grid-canvas-right",tabIndex:0},this._viewportTopR),this._canvasBottomL=p.createDomElement("div",{className:"grid-canvas grid-canvas-bottom grid-canvas-left",tabIndex:0},this._viewportBottomL),this._canvasBottomR=p.createDomElement("div",{className:"grid-canvas grid-canvas-bottom grid-canvas-right",tabIndex:0},this._viewportBottomR),this._canvas=[this._canvasTopL,this._canvasTopR,this._canvasBottomL,this._canvasBottomR],this.scrollbarDimensions=this.scrollbarDimensions||this.measureScrollbar(),this._activeCanvasNode=this._canvasTopL,this._topHeaderPanelSpacer&&p.width(this._topHeaderPanelSpacer,this.getCanvasWidth()+this.scrollbarDimensions.width),this._preHeaderPanelSpacer&&p.width(this._preHeaderPanelSpacer,this.getCanvasWidth()+this.scrollbarDimensions.width),this._headers.forEach((t=>{p.width(t,this.getHeadersWidth())})),p.width(this._headerRowSpacerL,this.getCanvasWidth()+this.scrollbarDimensions.width),p.width(this._headerRowSpacerR,this.getCanvasWidth()+this.scrollbarDimensions.width),this._options.createFooterRow&&(this._footerRowScrollerR=p.createDomElement("div",{className:"slick-footerrow ui-state-default slick-state-default"},this._paneTopR),this._footerRowScrollerL=p.createDomElement("div",{className:"slick-footerrow ui-state-default slick-state-default"},this._paneTopL),this._footerRowScroller=[this._footerRowScrollerL,this._footerRowScrollerR],this._footerRowSpacerL=p.createDomElement("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._footerRowScrollerL),p.width(this._footerRowSpacerL,this.getCanvasWidth()+this.scrollbarDimensions.width),this._footerRowSpacerR=p.createDomElement("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._footerRowScrollerR),p.width(this._footerRowSpacerR,this.getCanvasWidth()+this.scrollbarDimensions.width),this._footerRowL=p.createDomElement("div",{className:"slick-footerrow-columns slick-footerrow-columns-left"},this._footerRowScrollerL),this._footerRowR=p.createDomElement("div",{className:"slick-footerrow-columns slick-footerrow-columns-right"},this._footerRowScrollerR),this._footerRow=[this._footerRowL,this._footerRowR],this._options.showFooterRow||this._footerRowScroller.forEach((t=>{p.hide(t)}))),this._focusSink2=this._focusSink.cloneNode(!0),this._container.appendChild(this._focusSink2),this._options.explicitInitialization||this.finishInitialization()}finishInitialization(){this.initialized||(this.initialized=!0,this.getViewportWidth(),this.getViewportHeight(),this.measureCellPaddingAndBorder(),this.disableSelection(this._headers),this._options.enableTextSelectionOnCells||this._viewport.forEach((t=>{this._bindingEventService.bind(t,"selectstart",(t=>{t.target instanceof HTMLInputElement||(t.target,HTMLTextAreaElement)}))})),this.setFrozenOptions(),this.setPaneFrozenClasses(),this.setPaneVisibility(),this.setScroller(),this.setOverflow(),this.updateColumnCaches(),this.createColumnHeaders(),this.createColumnFooter(),this.setupColumnSort(),this.createCssRules(),this.resizeCanvas(),this.bindAncestorScrollEvents(),this._bindingEventService.bind(this._container,"resize",this.resizeCanvas.bind(this)),this._viewport.forEach((t=>{this._bindingEventService.bind(t,"scroll",this.handleScroll.bind(this))})),this._options.enableMouseWheelScrollHandler&&this._viewport.forEach((t=>{this.slickMouseWheelInstances.push(g({element:t,onMouseWheel:this.handleMouseWheel.bind(this)}))})),this._headerScroller.forEach((t=>{this._bindingEventService.bind(t,"contextmenu",this.handleHeaderContextMenu.bind(this)),this._bindingEventService.bind(t,"click",this.handleHeaderClick.bind(this))})),this._headerRowScroller.forEach((t=>{this._bindingEventService.bind(t,"scroll",this.handleHeaderRowScroll.bind(this))})),this._options.createFooterRow&&(this._footerRow.forEach((t=>{this._bindingEventService.bind(t,"contextmenu",this.handleFooterContextMenu.bind(this)),this._bindingEventService.bind(t,"click",this.handleFooterClick.bind(this))})),this._footerRowScroller.forEach((t=>{this._bindingEventService.bind(t,"scroll",this.handleFooterRowScroll.bind(this))}))),this._options.createTopHeaderPanel&&this._bindingEventService.bind(this._topHeaderPanelScroller,"scroll",this.handleTopHeaderPanelScroll.bind(this)),this._options.createPreHeaderPanel&&(this._bindingEventService.bind(this._preHeaderPanelScroller,"scroll",this.handlePreHeaderPanelScroll.bind(this)),this._bindingEventService.bind(this._preHeaderPanelScroller,"contextmenu",this.handlePreHeaderContextMenu.bind(this)),this._bindingEventService.bind(this._preHeaderPanelScrollerR,"contextmenu",this.handlePreHeaderContextMenu.bind(this)),this._bindingEventService.bind(this._preHeaderPanelScroller,"click",this.handlePreHeaderClick.bind(this)),this._bindingEventService.bind(this._preHeaderPanelScrollerR,"click",this.handlePreHeaderClick.bind(this))),this._bindingEventService.bind(this._focusSink,"keydown",this.handleKeyDown.bind(this)),this._bindingEventService.bind(this._focusSink2,"keydown",this.handleKeyDown.bind(this)),this._canvas.forEach((t=>{this._bindingEventService.bind(t,"keydown",this.handleKeyDown.bind(this)),this._bindingEventService.bind(t,"click",this.handleClick.bind(this)),this._bindingEventService.bind(t,"dblclick",this.handleDblClick.bind(this)),this._bindingEventService.bind(t,"contextmenu",this.handleContextMenu.bind(this)),this._bindingEventService.bind(t,"mouseover",this.handleCellMouseOver.bind(this)),this._bindingEventService.bind(t,"mouseout",this.handleCellMouseOut.bind(this))})),w&&(this.slickDraggableInstance=w({containerElement:this._container,allowDragFrom:"div.slick-cell",allowDragFromClosest:"div.slick-cell.dnd, div.slick-cell.cell-reorder",preventDragFromKeys:this._options.preventDragFromKeys,onDragInit:this.handleDragInit.bind(this),onDragStart:this.handleDragStart.bind(this),onDrag:this.handleDrag.bind(this),onDragEnd:this.handleDragEnd.bind(this)})),this._options.suppressCssChangesOnHiddenInit||this.restoreCssFromHiddenInit())}cacheCssForHiddenInit(){this._hiddenParents=p.parents(this._container,":hidden"),this.oldProps=[],this._hiddenParents.forEach((t=>{let e={};Object.keys(this.cssShow).forEach((i=>{this.cssShow&&(e[i]=t.style[i],t.style[i]=this.cssShow[i])})),this.oldProps.push(e)}))}restoreCssFromHiddenInit(){let t=0;this._hiddenParents&&(this._hiddenParents.forEach((e=>{let i=this.oldProps[t++];Object.keys(this.cssShow).forEach((t=>{this.cssShow&&(e.style[t]=i[t])}))})),this._hiddenParents=[])}hasFrozenColumns(){return this._options.frozenColumn>-1}registerPlugin(t){this.plugins.unshift(t),t.init(this)}unregisterPlugin(t){var e;for(let i=this.plugins.length;i>=0;i--)if(this.plugins[i]===t){null==(e=this.plugins[i])||e.destroy(),this.plugins.splice(i,1);break}}getPluginByName(t){var e;for(let i=this.plugins.length-1;i>=0;i--)if((null==(e=this.plugins[i])?void 0:e.pluginName)===t)return this.plugins[i]}setSelectionModel(t){this.selectionModel&&(this.selectionModel.onSelectedRangesChanged.unsubscribe(this.handleSelectedRangesChanged.bind(this)),this.selectionModel.destroy&&this.selectionModel.destroy()),this.selectionModel=t,this.selectionModel&&(this.selectionModel.init(this),this.selectionModel.onSelectedRangesChanged.subscribe(this.handleSelectedRangesChanged.bind(this)))}getSelectionModel(){return this.selectionModel}getCanvasNode(t,e){return this._getContainerElement(this.getCanvases(),t,e)}getActiveCanvasNode(t){return void 0===t||(t instanceof l&&(t=t.getNativeEvent()),this._activeCanvasNode=null==t?void 0:t.target.closest(".grid-canvas")),this._activeCanvasNode}getCanvases(){return this._canvas}getViewportNode(t,e){return this._getContainerElement(this.getViewports(),t,e)}getViewports(){return this._viewport}getActiveViewportNode(t){return this.setActiveViewportNode(t),this._activeViewportNode}setActiveViewportNode(t){return t instanceof l&&(t=t.getNativeEvent()),this._activeViewportNode=null==t?void 0:t.target.closest(".slick-viewport"),this._activeViewportNode}_getContainerElement(t,e,i){if(!t)return;e||(e=0),i||(i=0);let s="number"==typeof e?e:this.getColumnIndex(e);return t[(this.hasFrozenRows&&i>=this.actualFrozenRow+(this._options.frozenBottom?0:1)?2:0)+(this.hasFrozenColumns()&&s>this._options.frozenColumn?1:0)]}measureScrollbar(){let t="";this._viewport.forEach((e=>t+=e.className));let e=p.createDomElement("div",{className:t,style:{position:"absolute",top:"-10000px",left:"-10000px",overflow:"auto",width:"100px",height:"100px"}},document.body),i=p.createDomElement("div",{style:{width:"200px",height:"200px",overflow:"auto"}},e),s={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return i.remove(),e.remove(),s}getHeadersWidth(){var t,e,i,s,o,l,n,r;this.headersWidth=this.headersWidthL=this.headersWidthR=0;let h=!this._options.autoHeight,a=0,d=this.columns.length;for(a=0;a<d;a++){if(!this.columns[a]||this.columns[a].hidden)continue;let t=this.columns[a].width;this._options.frozenColumn>-1&&a>this._options.frozenColumn?this.headersWidthR+=t||0:this.headersWidthL+=t||0}return h&&(this._options.frozenColumn>-1&&a>this._options.frozenColumn?this.headersWidthR+=null!=(e=null==(t=this.scrollbarDimensions)?void 0:t.width)?e:0:this.headersWidthL+=null!=(s=null==(i=this.scrollbarDimensions)?void 0:i.width)?s:0),this.hasFrozenColumns()?(this.headersWidthL=this.headersWidthL+1e3,this.headersWidthR=Math.max(this.headersWidthR,this.viewportW)+this.headersWidthL,this.headersWidthR+=null!=(l=null==(o=this.scrollbarDimensions)?void 0:o.width)?l:0):(this.headersWidthL+=null!=(r=null==(n=this.scrollbarDimensions)?void 0:n.width)?r:0,this.headersWidthL=Math.max(this.headersWidthL,this.viewportW)+1e3),this.headersWidth=this.headersWidthL+this.headersWidthR,Math.max(this.headersWidth,this.viewportW)+1e3}getCanvasWidth(){var t,e;let i=this.viewportHasVScroll?this.viewportW-(null!=(e=null==(t=this.scrollbarDimensions)?void 0:t.width)?e:0):this.viewportW,s=this.columns.length;for(this.canvasWidthL=this.canvasWidthR=0;s--;)!this.columns[s]||this.columns[s].hidden||(this.hasFrozenColumns()&&s>this._options.frozenColumn?this.canvasWidthR+=this.columns[s].width||0:this.canvasWidthL+=this.columns[s].width||0);let o=this.canvasWidthL+this.canvasWidthR;if(this._options.fullWidthRows){let t=Math.max(o,i)-o;t>0&&(o+=t,this.hasFrozenColumns()?this.canvasWidthR+=t:this.canvasWidthL+=t)}return o}updateCanvasWidth(t){var e,i,s,o,l,n,r,h,a,d,c,u,m;let w=this.canvasWidth,g=this.canvasWidthL,v=this.canvasWidthR;this.canvasWidth=this.getCanvasWidth(),this._options.createTopHeaderPanel&&p.width(this._topHeaderPanel,null!=(e=this._options.topHeaderPanelWidth)?e:this.canvasWidth);let C=this.canvasWidth!==w||this.canvasWidthL!==g||this.canvasWidthR!==v;if(C||this.hasFrozenColumns()||this.hasFrozenRows)if(p.width(this._canvasTopL,this.canvasWidthL),this.getHeadersWidth(),p.width(this._headerL,this.headersWidthL),p.width(this._headerR,this.headersWidthR),this.hasFrozenColumns()){let t=p.width(this._container)||0;if(t>0&&this.canvasWidthL>t&&this._options.throwWhenFrozenNotAllViewable)throw new Error("[SlickGrid] Frozen columns cannot be wider than the actual grid container width. Make sure to have less columns freezed or make your grid container wider");p.width(this._canvasTopR,this.canvasWidthR),p.width(this._paneHeaderL,this.canvasWidthL),p.setStyleSize(this._paneHeaderR,"left",this.canvasWidthL),p.setStyleSize(this._paneHeaderR,"width",this.viewportW-this.canvasWidthL),p.width(this._paneTopL,this.canvasWidthL),p.setStyleSize(this._paneTopR,"left",this.canvasWidthL),p.width(this._paneTopR,this.viewportW-this.canvasWidthL),p.width(this._headerRowScrollerL,this.canvasWidthL),p.width(this._headerRowScrollerR,this.viewportW-this.canvasWidthL),p.width(this._headerRowL,this.canvasWidthL),p.width(this._headerRowR,this.canvasWidthR),this._options.createFooterRow&&(p.width(this._footerRowScrollerL,this.canvasWidthL),p.width(this._footerRowScrollerR,this.viewportW-this.canvasWidthL),p.width(this._footerRowL,this.canvasWidthL),p.width(this._footerRowR,this.canvasWidthR)),this._options.createPreHeaderPanel&&p.width(this._preHeaderPanel,null!=(i=this._options.preHeaderPanelWidth)?i:this.canvasWidth),p.width(this._viewportTopL,this.canvasWidthL),p.width(this._viewportTopR,this.viewportW-this.canvasWidthL),this.hasFrozenRows&&(p.width(this._paneBottomL,this.canvasWidthL),p.setStyleSize(this._paneBottomR,"left",this.canvasWidthL),p.width(this._viewportBottomL,this.canvasWidthL),p.width(this._viewportBottomR,this.viewportW-this.canvasWidthL),p.width(this._canvasBottomL,this.canvasWidthL),p.width(this._canvasBottomR,this.canvasWidthR))}else p.width(this._paneHeaderL,"100%"),p.width(this._paneTopL,"100%"),p.width(this._headerRowScrollerL,"100%"),p.width(this._headerRowL,this.canvasWidth),this._options.createFooterRow&&(p.width(this._footerRowScrollerL,"100%"),p.width(this._footerRowL,this.canvasWidth)),this._options.createPreHeaderPanel&&p.width(this._preHeaderPanel,null!=(s=this._options.preHeaderPanelWidth)?s:this.canvasWidth),p.width(this._viewportTopL,"100%"),this.hasFrozenRows&&(p.width(this._viewportBottomL,"100%"),p.width(this._canvasBottomL,this.canvasWidthL));this.viewportHasHScroll=this.canvasWidth>=this.viewportW-(null!=(l=null==(o=this.scrollbarDimensions)?void 0:o.width)?l:0),p.width(this._headerRowSpacerL,this.canvasWidth+(this.viewportHasVScroll&&null!=(r=null==(n=this.scrollbarDimensions)?void 0:n.width)?r:0)),p.width(this._headerRowSpacerR,this.canvasWidth+(this.viewportHasVScroll&&null!=(a=null==(h=this.scrollbarDimensions)?void 0:h.width)?a:0)),this._options.createFooterRow&&(p.width(this._footerRowSpacerL,this.canvasWidth+(this.viewportHasVScroll&&null!=(c=null==(d=this.scrollbarDimensions)?void 0:d.width)?c:0)),p.width(this._footerRowSpacerR,this.canvasWidth+(this.viewportHasVScroll&&null!=(m=null==(u=this.scrollbarDimensions)?void 0:u.width)?m:0))),(C||t)&&this.applyColumnWidths()}disableSelection(t){t.forEach((t=>{t.setAttribute("unselectable","on"),t.style.mozUserSelect="none",this._bindingEventService.bind(t,"selectstart",(()=>!1))}))}getMaxSupportedCssHeight(){let t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?this._options.ffMaxSupportedCssHeight:this._options.maxSupportedCssHeight,i=p.createDomElement("div",{style:{display:"hidden"}},document.body);for(;;){let s=2*t;p.height(i,s);let o=p.height(i);if(s>e||o!==s)break;t=s}return i.remove(),t}getUID(){return this.uid}getHeaderColumnWidthDiff(){return this.headerColumnWidthDiff}getScrollbarDimensions(){return this.scrollbarDimensions}getDisplayedScrollbarDimensions(){var t,e,i,s;return{width:this.viewportHasVScroll&&null!=(e=null==(t=this.scrollbarDimensions)?void 0:t.width)?e:0,height:this.viewportHasHScroll&&null!=(s=null==(i=this.scrollbarDimensions)?void 0:i.height)?s:0}}getAbsoluteColumnMinWidth(){return this.absoluteColumnMinWidth}getPubSubService(){return this._pubSubService}bindAncestorScrollEvents(){let t=this.hasFrozenRows&&!this._options.frozenBottom?this._canvasBottomL:this._canvasTopL;for(;(t=t.parentNode)!==document.body&&t;)(t===this._viewportTopL||t.scrollWidth!==t.clientWidth||t.scrollHeight!==t.clientHeight)&&(this._boundAncestors.push(t),this._bindingEventService.bind(t,"scroll",this.handleActiveCellPositionChange.bind(this)))}unbindAncestorScrollEvents(){this._boundAncestors.forEach((t=>{this._bindingEventService.unbindByEventName(t,"scroll")})),this._boundAncestors=[]}updateColumnHeader(t,e,i){if(this.initialized){let s=this.getColumnIndex(t);if(!p.isDefined(s))return;let o=this.columns[s],l=this.getColumnByIndex(s);l&&(void 0!==e&&(this.columns[s].name=e),void 0!==i&&(this.columns[s].toolTip=i),this.trigger(this.onBeforeHeaderCellDestroy,{node:l,column:o,grid:this}),l.setAttribute("title",i||""),void 0!==e&&this.applyHtmlCode(l.children[0],e),this.trigger(this.onHeaderCellRendered,{node:l,column:o,grid:this}))}}getHeader(t){if(!t)return this.hasFrozenColumns()?this._headers:this._headerL;let e=this.getColumnIndex(t.id);return this.hasFrozenColumns()?e<=this._options.frozenColumn?this._headerL:this._headerR:this._headerL}getHeaderColumn(t){let e="number"==typeof t?t:this.getColumnIndex(t),i=this.hasFrozenColumns()?e<=this._options.frozenColumn?this._headerL:this._headerR:this._headerL,s=this.hasFrozenColumns()?e<=this._options.frozenColumn?e:e-this._options.frozenColumn-1:e;return i.children[s]}getHeaderRow(){return this.hasFrozenColumns()?this._headerRows:this._headerRows[0]}getFooterRow(){return this.hasFrozenColumns()?this._footerRow:this._footerRow[0]}getPreHeaderPanel(){return this._preHeaderPanel}getPreHeaderPanelLeft(){return this._preHeaderPanel}getPreHeaderPanelRight(){return this._preHeaderPanelR}getTopHeaderPanel(){return this._topHeaderPanel}getHeaderRowColumn(t){let e,i="number"==typeof t?t:this.getColumnIndex(t);return this.hasFrozenColumns()?i<=this._options.frozenColumn?e=this._headerRowL:(e=this._headerRowR,i-=this._options.frozenColumn+1):e=this._headerRowL,e.children[i]}getFooterRowColumn(t){let e,i="number"==typeof t?t:this.getColumnIndex(t);return this.hasFrozenColumns()?i<=this._options.frozenColumn?e=this._footerRowL:(e=this._footerRowR,i-=this._options.frozenColumn+1):e=this._footerRowL,e.children[i]}createColumnFooter(){if(this._options.createFooterRow){this._footerRow.forEach((t=>{t.querySelectorAll(".slick-footerrow-column").forEach((t=>{let e=p.storage.get(t,"column");this.trigger(this.onBeforeFooterRowCellDestroy,{node:t,column:e,grid:this})}))})),p.emptyElement(this._footerRowL),p.emptyElement(this._footerRowR);for(let t=0;t<this.columns.length;t++){let e=this.columns[t];if(!e||e.hidden)continue;let i=p.createDomElement("div",{className:`ui-state-default slick-state-default slick-footerrow-column l${t} r${t}`},this.hasFrozenColumns()&&t>this._options.frozenColumn?this._footerRowR:this._footerRowL),s=this.hasFrozenColumns()&&t<=this._options.frozenColumn?"frozen":null;s&&i.classList.add(s),p.storage.put(i,"column",e),this.trigger(this.onFooterRowCellRendered,{node:i,column:e,grid:this})}}}handleHeaderMouseHoverOn(t){null==t||t.target.classList.add("ui-state-hover","slick-state-hover")}handleHeaderMouseHoverOff(t){null==t||t.target.classList.remove("ui-state-hover","slick-state-hover")}createColumnHeaders(){this._headers.forEach((t=>{t.querySelectorAll(".slick-header-column").forEach((t=>{let e=p.storage.get(t,"column");e&&this.trigger(this.onBeforeHeaderCellDestroy,{node:t,column:e,grid:this})}))})),p.emptyElement(this._headerL),p.emptyElement(this._headerR),this.getHeadersWidth(),p.width(this._headerL,this.headersWidthL),p.width(this._headerR,this.headersWidthR),this._headerRows.forEach((t=>{t.querySelectorAll(".slick-headerrow-column").forEach((t=>{let e=p.storage.get(t,"column");e&&this.trigger(this.onBeforeHeaderRowCellDestroy,{node:this,column:e,grid:this})}))})),p.emptyElement(this._headerRowL),p.emptyElement(this._headerRowR),this._options.createFooterRow&&(this._footerRowL.querySelectorAll(".slick-footerrow-column").forEach((t=>{let e=p.storage.get(t,"column");e&&this.trigger(this.onBeforeFooterRowCellDestroy,{node:this,column:e,grid:this})})),p.emptyElement(this._footerRowL),this.hasFrozenColumns()&&(this._footerRowR.querySelectorAll(".slick-footerrow-column").forEach((t=>{let e=p.storage.get(t,"column");e&&this.trigger(this.onBeforeFooterRowCellDestroy,{node:this,column:e,grid:this})})),p.emptyElement(this._footerRowR)));for(let t=0;t<this.columns.length;t++){let e=this.columns[t];if(e.hidden)continue;let i=this.hasFrozenColumns()?t<=this._options.frozenColumn?this._headerL:this._headerR:this._headerL,s=this.hasFrozenColumns()?t<=this._options.frozenColumn?this._headerRowL:this._headerRowR:this._headerRowL,o=p.createDomElement("div",{id:`${this.uid+e.id}`,dataset:{id:String(e.id)},role:"columnheader",className:"ui-state-default slick-state-default slick-header-column"},i);e.toolTip&&(o.title=e.toolTip),e.reorderable||o.classList.add(this._options.unorderableColumnCssClass);let l=p.createDomElement("span",{className:"slick-column-name"},o);this.applyHtmlCode(l,e.name),p.width(o,e.width-this.headerColumnWidthDiff);let n=e.headerCssClass||null;if(n&&o.classList.add(...p.classNameToList(n)),n=this.hasFrozenColumns()&&t<=this._options.frozenColumn?"frozen":null,n&&o.classList.add(n),this._bindingEventService.bind(o,"mouseenter",this.handleHeaderMouseEnter.bind(this)),this._bindingEventService.bind(o,"mouseleave",this.handleHeaderMouseLeave.bind(this)),p.storage.put(o,"column",e),(this._options.enableColumnReorder||e.sortable)&&(this._bindingEventService.bind(o,"mouseenter",this.handleHeaderMouseHoverOn.bind(this)),this._bindingEventService.bind(o,"mouseleave",this.handleHeaderMouseHoverOff.bind(this))),e.hasOwnProperty("headerCellAttrs")&&e.headerCellAttrs instanceof Object&&Object.keys(e.headerCellAttrs).forEach((t=>{e.headerCellAttrs.hasOwnProperty(t)&&o.setAttribute(t,e.headerCellAttrs[t])})),e.sortable&&(o.classList.add("slick-header-sortable"),p.createDomElement("div",{className:"slick-sort-indicator "+(this._options.numberedMultiColumnSort&&!this._options.sortColNumberInSeparateSpan?" slick-sort-indicator-numbered":"")},o),this._options.numberedMultiColumnSort&&this._options.sortColNumberInSeparateSpan&&p.createDomElement("div",{className:"slick-sort-indicator-numbered"},o)),this.trigger(this.onHeaderCellRendered,{node:o,column:e,grid:this}),this._options.showHeaderRow){let i=p.createDomElement("div",{className:`ui-state-default slick-state-default slick-headerrow-column l${t} r${t}`},s),o=this.hasFrozenColumns()&&t<=this._options.frozenColumn?"frozen":null;o&&i.classList.add(o),this._bindingEventService.bind(i,"mouseenter",this.handleHeaderRowMouseEnter.bind(this)),this._bindingEventService.bind(i,"mouseleave",this.handleHeaderRowMouseLeave.bind(this)),p.storage.put(i,"column",e),this.trigger(this.onHeaderRowCellRendered,{node:i,column:e,grid:this})}if(this._options.createFooterRow&&this._options.showFooterRow){let i=this.hasFrozenColumns()?t<=this._options.frozenColumn?this._footerRow[0]:this._footerRow[1]:this._footerRow[0],s=p.createDomElement("div",{className:`ui-state-default slick-state-default slick-footerrow-column l${t} r${t}`},i);p.storage.put(s,"column",e),this.trigger(this.onFooterRowCellRendered,{node:s,column:e,grid:this})}}this.setSortColumns(this.sortColumns),this.setupColumnResize(),this._options.enableColumnReorder&&("function"==typeof this._options.enableColumnReorder?this._options.enableColumnReorder(this,this._headers,this.headerColumnWidthDiff,this.setColumns,this.setupColumnResize,this.columns,this.getColumnIndex,this.uid,this.trigger):this.setupColumnReorder())}setupColumnSort(){this._headers.forEach((t=>{this._bindingEventService.bind(t,"click",(t=>{var e;if(this.columnResizeDragging||t.target.classList.contains("slick-resizable-handle"))return;let i=t.target.closest(".slick-header-column");if(!i)return;let s=p.storage.get(i,"column");if(s.sortable){if(null==(e=this.getEditorLock())||!e.commitCurrentEdit())return;let i=this.sortColumns.slice(),o=null,l=0;for(;l<this.sortColumns.length;l++)if(this.sortColumns[l].columnId===s.id){o=this.sortColumns[l],o.sortAsc=!o.sortAsc;break}let n,r=!!o;this._options.tristateMultiColumnSort?(o||(o={columnId:s.id,sortAsc:s.defaultSortAsc,sortCol:s}),r&&o.sortAsc&&(this.sortColumns.splice(l,1),o=null),this._options.multiColumnSort||(this.sortColumns=[]),o&&(!r||!this._options.multiColumnSort)&&this.sortColumns.push(o)):t.metaKey&&this._options.multiColumnSort?o&&this.sortColumns.splice(l,1):((!t.shiftKey&&!t.metaKey||!this._options.multiColumnSort)&&(this.sortColumns=[]),o?0===this.sortColumns.length&&this.sortColumns.push(o):(o={columnId:s.id,sortAsc:s.defaultSortAsc,sortCol:s},this.sortColumns.push(o))),n=this._options.multiColumnSort?{multiColumnSort:!0,previousSortColumns:i,sortCols:this.sortColumns.map((t=>{let e=this.columns[this.getColumnIndex(t.columnId)];return!e||e.hidden?null:{columnId:e.id,sortCol:e,sortAsc:t.sortAsc}})).filter((t=>t))}:{multiColumnSort:!1,previousSortColumns:i,columnId:this.sortColumns.length>0?s.id:null,sortCol:this.sortColumns.length>0?s:null,sortAsc:!(this.sortColumns.length>0)||this.sortColumns[0].sortAsc},!1!==this.trigger(this.onBeforeSort,n,t).getReturnValue()&&(this.setSortColumns(this.sortColumns),this.trigger(this.onSort,n,t))}}))}))}setupColumnReorder(){var t,e;null==(t=this.sortableSideLeftInstance)||t.destroy(),null==(e=this.sortableSideRightInstance)||e.destroy();let i=null,s=()=>this._viewportScrollContainerX.scrollLeft=this._viewportScrollContainerX.scrollLeft+10,o=()=>this._viewportScrollContainerX.scrollLeft=this._viewportScrollContainerX.scrollLeft-10,l=!1,n={animation:50,direction:"horizontal",chosenClass:"slick-header-column-active",ghostClass:"slick-sortable-placeholder",draggable:".slick-header-column",dragoverBubble:!1,revertClone:!0,scroll:!this.hasFrozenColumns(),filter:`.${this._options.unorderableColumnCssClass}`,onMove:t=>!t.related.classList.contains(this._options.unorderableColumnCssClass),onStart:t=>{l=!this.hasFrozenColumns()||p.offset(t.item).left>p.offset(this._viewportScrollContainerX).left,l&&t.originalEvent.pageX>this._container.clientWidth?i||(i=window.setInterval(s,100)):l&&t.originalEvent.pageX<p.offset(this._viewportScrollContainerX).left?i||(i=window.setInterval(o,100)):(window.clearInterval(i),i=null)},onEnd:t=>{var e,s,o,l,n;if(window.clearInterval(i),i=null,null==(e=this.getEditorLock())||!e.commitCurrentEdit())return;let r=null!=(o=null==(s=this.sortableSideLeftInstance)?void 0:s.toArray())?o:[];r=r.concat(null!=(n=null==(l=this.sortableSideRightInstance)?void 0:l.toArray())?n:[]);let h=[];for(let t=0;t<r.length;t++)h.push(this.columns[this.getColumnIndex(r[t])]);this.setColumns(h),this.trigger(this.onColumnsReordered,{impactedColumns:this.columns}),t.stopPropagation(),this.setupColumnResize(),this.activeCellNode&&this.setFocus()}};this.sortableSideLeftInstance=Sortable.create(this._headerL,n),this.sortableSideRightInstance=Sortable.create(this._headerR,n)}getHeaderChildren(){let t=Array.from(this._headers[0].children),e=Array.from(this._headers[1].children);return t.concat(e)}handleResizeableDoubleClick(t){let e=t.target.parentElement.id.replace(this.uid,"");this.trigger(this.onColumnsResizeDblClick,{triggeredByColumn:e})}setupColumnResize(){if(void 0===v)throw new Error('Slick.Resizable is undefined, make sure to import "slick.interactions.js"');let t,e,i,s,o,l,n,r=-1,h=0,a=this.getHeaderChildren(),d=this.getVisibleColumns();for(let t=0;t<a.length;t++)a[t].querySelectorAll(".slick-resizable-handle").forEach((t=>t.remove())),!(t>=d.length)&&d[t]&&d[t].resizable&&(void 0===n&&(n=t),r=t);if(void 0!==n)for(let c=0;c<a.length;c++){let u=a[c];if(c>=d.length||!d[c]||c<n||this._options.forceFitColumns&&c>=r)continue;let m=p.createDomElement("div",{className:"slick-resizable-handle",role:"separator",ariaOrientation:"horizontal"},u);this._bindingEventService.bind(m,"dblclick",this.handleResizeableDoubleClick.bind(this)),this.slickResizableInstances.push(v({resizeableElement:u,resizeableHandleElement:m,onResizeStart:(e,n)=>{var r;let u=e.touches?e.changedTouches[0]:e;if(null==(r=this.getEditorLock())||!r.commitCurrentEdit())return!1;s=u.pageX,h=0,n.resizeableElement.classList.add("slick-header-column-active");let p=null,m=null;for(let t=0;t<a.length;t++)t>=d.length||!d[t]||(d[t].previousWidth=a[t].offsetWidth);if(this._options.forceFitColumns)for(p=0,m=0,t=c+1;t<d.length;t++)i=d[t],null!=i&&i.resizable&&(null!==m&&(i.maxWidth?m+=i.maxWidth-(i.previousWidth||0):m=null),p+=(i.previousWidth||0)-Math.max(i.minWidth||0,this.absoluteColumnMinWidth));let w=0,g=0;for(t=0;t<=c;t++)i=d[t],null!=i&&i.resizable&&(null!==g&&(i.maxWidth?g+=i.maxWidth-(i.previousWidth||0):g=null),w+=(i.previousWidth||0)-Math.max(i.minWidth||0,this.absoluteColumnMinWidth));null===p&&(p=1e5),null===w&&(w=1e5),null===m&&(m=1e5),null===g&&(g=1e5),l=s+Math.min(p,g),o=s-Math.min(w,m)},onResize:(n,r)=>{var a,u;let m=n.touches?n.changedTouches[0]:n;this.columnResizeDragging=!0;let w,g,v=Math.min(l,Math.max(o,m.pageX))-s,C=0,f=0,_=this.viewportHasVScroll?this.viewportW-(null!=(u=null==(a=this.scrollbarDimensions)?void 0:a.width)?u:0):this.viewportW;if(v<0){for(g=v,t=c;t>=0;t--)i=d[t],null!=i&&i.resizable&&!i.hidden&&(w=Math.max(i.minWidth||0,this.absoluteColumnMinWidth),g&&(i.previousWidth||0)+g<w?(g+=(i.previousWidth||0)-w,i.width=w):(i.width=(i.previousWidth||0)+g,g=0));for(e=0;e<=c;e++)i=d[e],i&&!i.hidden&&(this.hasFrozenColumns()&&e>this._options.frozenColumn?f+=i.width||0:C+=i.width||0);if(this._options.forceFitColumns)for(g=-v,t=c+1;t<d.length;t++)i=d[t],i&&!i.hidden&&i.resizable&&(g&&i.maxWidth&&i.maxWidth-(i.previousWidth||0)<g?(g-=i.maxWidth-(i.previousWidth||0),i.width=i.maxWidth):(i.width=(i.previousWidth||0)+g,g=0),this.hasFrozenColumns()&&t>this._options.frozenColumn?f+=i.width||0:C+=i.width||0);else for(t=c+1;t<d.length;t++)i=d[t],i&&!i.hidden&&(this.hasFrozenColumns()&&t>this._options.frozenColumn?f+=i.width||0:C+=i.width||0);if(this._options.forceFitColumns)for(g=-v,t=c+1;t<d.length;t++)i=d[t],i&&!i.hidden&&i.resizable&&(g&&i.maxWidth&&i.maxWidth-(i.previousWidth||0)<g?(g-=i.maxWidth-(i.previousWidth||0),i.width=i.maxWidth):(i.width=(i.previousWidth||0)+g,g=0))}else{for(g=v,C=0,f=0,t=c;t>=0;t--)if(i=d[t],i&&!i.hidden&&i.resizable)if(g&&i.maxWidth&&i.maxWidth-(i.previousWidth||0)<g)g-=i.maxWidth-(i.previousWidth||0),i.width=i.maxWidth;else{let e=(i.previousWidth||0)+g,s=this.canvasWidthL+g;this.hasFrozenColumns()&&t<=this._options.frozenColumn?(e>h&&s<_-this._options.frozenRightViewportMinWidth&&(h=e),i.width=s+this._options.frozenRightViewportMinWidth>_?h:e):i.width=e,g=0}for(e=0;e<=c;e++)i=d[e],i&&!i.hidden&&(this.hasFrozenColumns()&&e>this._options.frozenColumn?f+=i.width||0:C+=i.width||0);if(this._options.forceFitColumns)for(g=-v,t=c+1;t<d.length;t++)i=d[t],i&&!i.hidden&&i.resizable&&(w=Math.max(i.minWidth||0,this.absoluteColumnMinWidth),g&&(i.previousWidth||0)+g<w?(g+=(i.previousWidth||0)-w,i.width=w):(i.width=(i.previousWidth||0)+g,g=0),this.hasFrozenColumns()&&t>this._options.frozenColumn?f+=i.width||0:C+=i.width||0);else for(t=c+1;t<d.length;t++)i=d[t],i&&!i.hidden&&(this.hasFrozenColumns()&&t>this._options.frozenColumn?f+=i.width||0:C+=i.width||0)}this.hasFrozenColumns()&&C!==this.canvasWidthL&&(p.width(this._headerL,C+1e3),p.setStyleSize(this._paneHeaderR,"left",C)),this.applyColumnHeaderWidths(),this._options.syncColumnCellResize&&this.applyColumnWidths(),this.trigger(this.onColumnsDrag,{triggeredByColumn:r.resizeableElement,resizeHandle:r.resizeableHandleElement})},onResizeEnd:(e,s)=>{s.resizeableElement.classList.remove("slick-header-column-active");let o,l=s.resizeableElement.id.replace(this.uid,"");for(!0===this.trigger(this.onBeforeColumnsResize,{triggeredByColumn:l}).getReturnValue()&&this.applyColumnHeaderWidths(),t=0;t<d.length;t++)i=d[t],i&&!i.hidden&&(o=a[t].offsetWidth,i.previousWidth!==o&&i.rerenderOnResize&&this.invalidateAllRows());this.updateCanvasWidth(!0),this.render(),this.trigger(this.onColumnsResized,{triggeredByColumn:l}),window.clearTimeout(this._columnResizeTimer),this._columnResizeTimer=window.setTimeout((()=>{this.columnResizeDragging=!1}),300)}}))}}getVBoxDelta(t){let e=getComputedStyle(t),i=0;return["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"].forEach((t=>i+=p.toFloat(e[t]))),i}setFrozenOptions(){if(this._options.frozenColumn=this._options.frozenColumn>=0&&this._options.frozenColumn<this.columns.length?parseInt(this._options.frozenColumn,10):-1,this._options.frozenRow>-1){this.hasFrozenRows=!0,this.frozenRowsHeight=this._options.frozenRow*this._options.rowHeight;let t=this.getDataLength();this.actualFrozenRow=this._options.frozenBottom?t-this._options.frozenRow:this._options.frozenRow}else this.hasFrozenRows=!1}setPaneFrozenClasses(){let t=this.hasFrozenColumns()?"add":"remove";for(let e of[this._paneHeaderL,this._paneTopL,this._paneBottomL])e.classList[t]("frozen")}setPaneVisibility(){this.hasFrozenColumns()?(p.show(this._paneHeaderR),p.show(this._paneTopR),this.hasFrozenRows?(p.show(this._paneBottomL),p.show(this._paneBottomR)):(p.hide(this._paneBottomR),p.hide(this._paneBottomL))):(p.hide(this._paneHeaderR),p.hide(this._paneTopR),p.hide(this._paneBottomR),this.hasFrozenRows?p.show(this._paneBottomL):(p.hide(this._paneBottomR),p.hide(this._paneBottomL)))}setOverflow(){if(this._viewportTopL.style.overflowX=this.hasFrozenColumns()?this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"hidden":"scroll":this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"hidden":"auto",this._viewportTopL.style.overflowY=!this.hasFrozenColumns()&&this._options.alwaysShowVerticalScroll?"scroll":this.hasFrozenColumns()?(this.hasFrozenRows,"hidden"):this.hasFrozenRows?"scroll":"auto",this._viewportTopR.style.overflowX=this.hasFrozenColumns()?this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"hidden":"scroll":this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"hidden":"auto",this._viewportTopR.style.overflowY=this._options.alwaysShowVerticalScroll?"scroll":(this.hasFrozenColumns(),this.hasFrozenRows?"scroll":"auto"),this._viewportBottomL.style.overflowX=this.hasFrozenColumns()?this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"scroll":"auto":(this.hasFrozenRows&&this._options.alwaysAllowHorizontalScroll,"auto"),this._viewportBottomL.style.overflowY=!this.hasFrozenColumns()&&this._options.alwaysShowVerticalScroll?"scroll":this.hasFrozenColumns()?(this.hasFrozenRows,"hidden"):this.hasFrozenRows?"scroll":"auto",this._viewportBottomR.style.overflowX=this.hasFrozenColumns()?this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"scroll":"auto":(this.hasFrozenRows&&this._options.alwaysAllowHorizontalScroll,"auto"),this._viewportBottomR.style.overflowY=this._options.alwaysShowVerticalScroll?"scroll":(this.hasFrozenColumns(),this.hasFrozenRows,"auto"),this._options.viewportClass){let t=p.classNameToList(this._options.viewportClass);this._viewportTopL.classList.add(...t),this._viewportTopR.classList.add(...t),this._viewportBottomL.classList.add(...t),this._viewportBottomR.classList.add(...t)}}setScroller(){this.hasFrozenColumns()?(this._headerScrollContainer=this._headerScrollerR,this._headerRowScrollContainer=this._headerRowScrollerR,this._footerRowScrollContainer=this._footerRowScrollerR,this.hasFrozenRows?this._options.frozenBottom?(this._viewportScrollContainerX=this._viewportBottomR,this._viewportScrollContainerY=this._viewportTopR):this._viewportScrollContainerX=this._viewportScrollContainerY=this._viewportBottomR:this._viewportScrollContainerX=this._viewportScrollContainerY=this._viewportTopR):(this._headerScrollContainer=this._headerScrollerL,this._headerRowScrollContainer=this._headerRowScrollerL,this._footerRowScrollContainer=this._footerRowScrollerL,this.hasFrozenRows?this._options.frozenBottom?(this._viewportScrollContainerX=this._viewportBottomL,this._viewportScrollContainerY=this._viewportTopL):this._viewportScrollContainerX=this._viewportScrollContainerY=this._viewportBottomL:this._viewportScrollContainerX=this._viewportScrollContainerY=this._viewportTopL)}measureCellPaddingAndBorder(){let t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=this._headers[0];this.headerColumnWidthDiff=this.headerColumnHeightDiff=0,this.cellWidthDiff=this.cellHeightDiff=0;let s=p.createDomElement("div",{className:"ui-state-default slick-state-default slick-header-column",style:{visibility:"hidden"},textContent:"-"},i),o=getComputedStyle(s);"border-box"!==o.boxSizing&&(t.forEach((t=>this.headerColumnWidthDiff+=p.toFloat(o[t]))),e.forEach((t=>this.headerColumnHeightDiff+=p.toFloat(o[t])))),s.remove();let l=p.createDomElement("div",{className:"slick-row"},this._canvas[0]);s=p.createDomElement("div",{className:"slick-cell",id:"",style:{visibility:"hidden"},textContent:"-"},l),o=getComputedStyle(s),"border-box"!==o.boxSizing&&(t.forEach((t=>this.cellWidthDiff+=p.toFloat(o[t]))),e.forEach((t=>this.cellHeightDiff+=p.toFloat(o[t])))),l.remove(),this.absoluteColumnMinWidth=Math.max(this.headerColumnWidthDiff,this.cellWidthDiff)}createCssRules(){this._style=document.createElement("style"),this._style.nonce=this._options.nonce||"",(this._options.shadowRoot||document.head).appendChild(this._style);let t=this._options.rowHeight-this.cellHeightDiff,e=[`.${this.uid} .slick-group-header-column { left: 1000px; }`,`.${this.uid} .slick-header-column { left: 1000px; }`,`.${this.uid} .slick-top-panel { height: ${this._options.topPanelHeight}px; }`,`.${this.uid} .slick-preheader-panel { height: ${this._options.preHeaderPanelHeight}px; }`,`.${this.uid} .slick-topheader-panel { height: ${this._options.topHeaderPanelHeight}px; }`,`.${this.uid} .slick-headerrow-columns { height: ${this._options.headerRowHeight}px; }`,`.${this.uid} .slick-footerrow-columns { height: ${this._options.footerRowHeight}px; }`,`.${this.uid} .slick-cell { height: ${t}px; }`,`.${this.uid} .slick-row { height: ${this._options.rowHeight}px; }`],i=this._style.sheet;if(i){e.forEach((t=>{i.insertRule(t)}));for(let t=0;t<this.columns.length;t++)!this.columns[t]||this.columns[t].hidden||(i.insertRule(`.${this.uid} .l${t} { }`),i.insertRule(`.${this.uid} .r${t} { }`))}else this.createCssRulesAlternative(e)}createCssRulesAlternative(t){let e=document.createElement("template");e.innerHTML='<style type="text/css" rel="stylesheet" />',this._style=e.content.firstChild,(this._options.shadowRoot||document.head).appendChild(this._style);for(let e=0;e<this.columns.length;e++)!this.columns[e]||this.columns[e].hidden||(t.push(`.${this.uid} .l${e} { }`),t.push(`.${this.uid} .r${e} { }`));this._style.styleSheet?this._style.styleSheet.cssText=t.join(" "):this._style.appendChild(document.createTextNode(t.join(" ")))}getColumnCssRules(t){var e;let i;if(!this.stylesheet){let t=(this._options.shadowRoot||document).styleSheets;for(this._options.devMode&&"number"==typeof(null==(e=this._options.devMode)?void 0:e.ownerNodeIndex)&&this._options.devMode.ownerNodeIndex>=0&&(t[this._options.devMode.ownerNodeIndex].ownerNode=this._style),i=0;i<t.length;i++)if((t[i].ownerNode||t[i].owningElement)===this._style){this.stylesheet=t[i];break}if(!this.stylesheet)throw new Error("SlickGrid Cannot find stylesheet.");this.columnCssRulesL=[],this.columnCssRulesR=[];let s,o,l=this.stylesheet.cssRules||this.stylesheet.rules;for(i=0;i<l.length;i++){let t=l[i].selectorText;(s=/\.l\d+/.exec(t))?(o=parseInt(s[0].substr(2,s[0].length-2),10),this.columnCssRulesL[o]=l[i]):(s=/\.r\d+/.exec(t))&&(o=parseInt(s[0].substr(2,s[0].length-2),10),this.columnCssRulesR[o]=l[i])}}return{left:this.columnCssRulesL[t],right:this.columnCssRulesR[t]}}removeCssRules(){var t;null==(t=this._style)||t.remove(),this.stylesheet=null}clearAllTimers(){window.clearTimeout(this._columnResizeTimer),window.clearTimeout(this._executionBlockTimer),window.clearTimeout(this._flashCellTimer),window.clearTimeout(this._highlightRowTimer),window.clearTimeout(this.h_editorLoader)}destroy(t){var e,i,s,o;this._bindingEventService.unbindAll(),this.slickDraggableInstance=this.destroyAllInstances(this.slickDraggableInstance),this.slickMouseWheelInstances=this.destroyAllInstances(this.slickMouseWheelInstances),this.slickResizableInstances=this.destroyAllInstances(this.slickResizableInstances),null==(e=this.getEditorLock())||e.cancelCurrentEdit(),this.trigger(this.onBeforeDestroy,{});let l=this.plugins.length;for(;l--;)this.unregisterPlugin(this.plugins[l]);this._options.enableColumnReorder&&"function"==typeof(null==(i=this.sortableSideLeftInstance)?void 0:i.destroy)&&(null==(s=this.sortableSideLeftInstance)||s.destroy(),null==(o=this.sortableSideRightInstance)||o.destroy()),this.unbindAncestorScrollEvents(),this._bindingEventService.unbindByEventName(this._container,"resize"),this.removeCssRules(),this._canvas.forEach((t=>{this._bindingEventService.unbindByEventName(t,"keydown"),this._bindingEventService.unbindByEventName(t,"click"),this._bindingEventService.unbindByEventName(t,"dblclick"),this._bindingEventService.unbindByEventName(t,"contextmenu"),this._bindingEventService.unbindByEventName(t,"mouseover"),this._bindingEventService.unbindByEventName(t,"mouseout")})),this._viewport.forEach((t=>{this._bindingEventService.unbindByEventName(t,"scroll")})),this._headerScroller.forEach((t=>{this._bindingEventService.unbindByEventName(t,"contextmenu"),this._bindingEventService.unbindByEventName(t,"click")})),this._headerRowScroller.forEach((t=>{this._bindingEventService.unbindByEventName(t,"scroll")})),this._footerRow&&this._footerRow.forEach((t=>{this._bindingEventService.unbindByEventName(t,"contextmenu"),this._bindingEventService.unbindByEventName(t,"click")})),this._footerRowScroller&&this._footerRowScroller.forEach((t=>{this._bindingEventService.unbindByEventName(t,"scroll")})),this._preHeaderPanelScroller&&this._bindingEventService.unbindByEventName(this._preHeaderPanelScroller,"scroll"),this._topHeaderPanelScroller&&this._bindingEventService.unbindByEventName(this._topHeaderPanelScroller,"scroll"),this._bindingEventService.unbindByEventName(this._focusSink,"keydown"),this._bindingEventService.unbindByEventName(this._focusSink2,"keydown");let n=this._container.querySelectorAll(".slick-resizable-handle");[].forEach.call(n,(t=>{this._bindingEventService.unbindByEventName(t,"dblclick")}));let r=this._container.querySelectorAll(".slick-header-column");[].forEach.call(r,(t=>{this._bindingEventService.unbindByEventName(t,"mouseenter"),this._bindingEventService.unbindByEventName(t,"mouseleave"),this._bindingEventService.unbindByEventName(t,"mouseenter"),this._bindingEventService.unbindByEventName(t,"mouseleave")})),p.emptyElement(this._container),this._container.classList.remove(this.uid),this.clearAllTimers(),t&&this.destroyAllElements()}destroyAllInstances(t){if(t){let e,i=Array.isArray(t)?t:[t];for(;p.isDefined(e=i.pop());)e&&"function"==typeof e.destroy&&e.destroy()}return t=Array.isArray(t)?[]:null}destroyAllElements(){this._activeCanvasNode=null,this._activeViewportNode=null,this._boundAncestors=null,this._canvas=null,this._canvasTopL=null,this._canvasTopR=null,this._canvasBottomL=null,this._canvasBottomR=null,this._container=null,this._focusSink=null,this._focusSink2=null,this._groupHeaders=null,this._groupHeadersL=null,this._groupHeadersR=null,this._headerL=null,this._headerR=null,this._headers=null,this._headerRows=null,this._headerRowL=null,this._headerRowR=null,this._headerRowSpacerL=null,this._headerRowSpacerR=null,this._headerRowScrollContainer=null,this._headerRowScroller=null,this._headerRowScrollerL=null,this._headerRowScrollerR=null,this._headerScrollContainer=null,this._headerScroller=null,this._headerScrollerL=null,this._headerScrollerR=null,this._hiddenParents=null,this._footerRow=null,this._footerRowL=null,this._footerRowR=null,this._footerRowSpacerL=null,this._footerRowSpacerR=null,this._footerRowScroller=null,this._footerRowScrollerL=null,this._footerRowScrollerR=null,this._footerRowScrollContainer=null,this._preHeaderPanel=null,this._preHeaderPanelR=null,this._preHeaderPanelScroller=null,this._preHeaderPanelScrollerR=null,this._preHeaderPanelSpacer=null,this._preHeaderPanelSpacerR=null,this._topPanels=null,this._topPanelScrollers=null,this._style=null,this._topPanelScrollerL=null,this._topPanelScrollerR=null,this._topPanelL=null,this._topPanelR=null,this._paneHeaderL=null,this._paneHeaderR=null,this._paneTopL=null,this._paneTopR=null,this._paneBottomL=null,this._paneBottomR=null,this._viewport=null,this._viewportTopL=null,this._viewportTopR=null,this._viewportBottomL=null,this._viewportBottomR=null,this._viewportScrollContainerX=null,this._viewportScrollContainerY=null}autosizeColumn(t,e){let i=null,s=-1;if("number"==typeof t)i=this.columns[t],s=t;else if("string"==typeof t)for(let e=0;e<this.columns.length;e++)this.columns[e].id===t&&(i=this.columns[e],s=e);if(!i)return;let o=this.getCanvasNode(0,0);this.getColAutosizeWidth(i,s,o,e||!1,s)}treatAsLocked(t={}){var e;return!t.ignoreHeaderText&&!t.sizeToRemaining&&t.contentSizePx===t.headerWidthPx&&(null!=(e=t.widthPx)?e:0)<100}autosizeColumns(t,e){var i;let s=!(null!=(i=this._hiddenParents)&&i.length);s&&this.cacheCssForHiddenInit(),this.internalAutosizeColumns(t,e),s&&this.restoreCssFromHiddenInit()}internalAutosizeColumns(t,e){var i,o,l,n,h,a,d,c,u,m,w,g,v,C,f,_,R,S,b,y,H,P;if((t=t||this._options.autosizeColsMode)===r.LegacyForceFit||t===r.LegacyOff)return void this.legacyAutosizeColumns();if(t===r.None)return;this.canvas=document.createElement("canvas"),null!=(i=this.canvas)&&i.getContext&&(this.canvas_context=this.canvas.getContext("2d"));let E,L,z,x=this.getCanvasNode(0,0),D=this.viewportHasVScroll?this.viewportW-(null!=(l=null==(o=this.scrollbarDimensions)?void 0:o.width)?l:0):this.viewportW,k=!1,T=0,W=0,F=0,A=0,N=0;for(E=0;E<this.columns.length;E++)L=this.columns[E],this.getColAutosizeWidth(L,E,x,e||!1,E),N+=(null==(n=L.autoSize)?void 0:n.autosizeMode)===s.Locked?L.width||0:this.treatAsLocked(L.autoSize)&&(null==(h=L.autoSize)?void 0:h.widthPx)||0,A+=(null==(a=L.autoSize)?void 0:a.autosizeMode)===s.Locked?L.width||0:this.treatAsLocked(L.autoSize)?(null==(d=L.autoSize)?void 0:d.widthPx)||0:L.minWidth||0,T+=(null==(c=L.autoSize)?void 0:c.widthPx)||0,W+=null!=(u=L.autoSize)&&u.sizeToRemaining?0:(null==(m=L.autoSize)?void 0:m.widthPx)||0,F+=null!=(w=L.autoSize)&&w.sizeToRemaining&&L.minWidth||0;let I=T-W;if(t===r.FitViewportToCols){let e=T+(null!=(v=null==(g=this.scrollbarDimensions)?void 0:g.width)?v:0);t=r.IgnoreViewport,this._options.viewportMaxWidthPx&&e>this._options.viewportMaxWidthPx?(e=this._options.viewportMaxWidthPx,t=r.FitColsToViewport):this._options.viewportMinWidthPx&&e<this._options.viewportMinWidthPx&&(e=this._options.viewportMinWidthPx,t=r.FitColsToViewport),p.width(this._container,e)}if(t===r.FitColsToViewport)if(I>0&&W<D-F)for(E=0;E<this.columns.length;E++){if(L=this.columns[E],!L||L.hidden)continue;let t=D-W;z=null!=(C=L.autoSize)&&C.sizeToRemaining?t*((null==(f=L.autoSize)?void 0:f.widthPx)||0)/I:(null==(_=L.autoSize)?void 0:_.widthPx)||0,L.rerenderOnResize&&(L.width||0)!==z&&(k=!0),L.width=z}else if(this._options.viewportSwitchToScrollModeWidthPercent&&W+F>D*this._options.viewportSwitchToScrollModeWidthPercent/100||A>D)t=r.IgnoreViewport;else{let t=W-N,e=D-N-F;for(E=0;E<this.columns.length;E++)L=this.columns[E],L&&!L.hidden&&(z=L.width||0,(null==(R=L.autoSize)?void 0:R.autosizeMode)!==s.Locked&&!this.treatAsLocked(L.autoSize)&&(null!=(S=L.autoSize)&&S.sizeToRemaining?z=L.minWidth||0:(z=e/t*((null==(b=L.autoSize)?void 0:b.widthPx)||0)-1,z<(L.minWidth||0)&&(z=L.minWidth||0),t-=(null==(y=L.autoSize)?void 0:y.widthPx)||0,e-=z)),this.treatAsLocked(L.autoSize)&&(z=(null==(H=L.autoSize)?void 0:H.widthPx)||0,z<(L.minWidth||0)&&(z=L.minWidth||0)),L.rerenderOnResize&&L.width!==z&&(k=!0),L.width=z)}if(t===r.IgnoreViewport)for(E=0;E<this.columns.length;E++)!this.columns[E]||this.columns[E].hidden||(z=(null==(P=this.columns[E].autoSize)?void 0:P.widthPx)||0,this.columns[E].rerenderOnResize&&this.columns[E].width!==z&&(k=!0),this.columns[E].width=z);this.reRenderColumns(k)}LogColWidths(){let t="Col Widths:";for(let e=0;e<this.columns.length;e++)t+=" "+(this.columns[e].hidden?"H":this.columns[e].width);console.log(t)}getColAutosizeWidth(t,e,i,o,l){var n;let r=t.autoSize;if(r.widthPx=t.width,r.autosizeMode===s.Locked||r.autosizeMode===s.Guide)return;let h=this.getDataLength(),a=new RegExp(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z/);if(r.autosizeMode===s.ContentIntelligent){let e,i=r.colDataTypeOf;if(h>0){let s=this.getDataItem(0);s&&(e=s[t.field],a.test(e)&&(e=Date.parse(e)),i=typeof e,"object"===i&&(e instanceof Date&&(i="date"),"undefined"!=typeof moment&&e instanceof moment&&(i="moment")))}"boolean"===i&&(r.colValueArray=[!0,!1]),"number"===i&&(r.valueFilterMode=u.GetGreatestAndSub,r.rowSelectionMode=c.AllRows),"string"===i&&(r.valueFilterMode=u.GetLongestText,r.rowSelectionMode=c.AllRows,r.allowAddlPercent=5),"date"===i&&(r.colValueArray=[new Date(2009,8,30,12,20,20)]),"moment"===i&&"undefined"!=typeof moment&&(r.colValueArray=[moment([2009,8,30,12,20,20])])}let d=r.contentSizePx=this.getColContentSize(t,e,i,o,l);0===d&&(d=r.widthPx||0),d=d*(r.allowAddlPercent?1+r.allowAddlPercent/100:1)+(this._options.autosizeColPaddingPx||0),t.minWidth&&d<t.minWidth&&(d=t.minWidth),t.maxWidth&&d>t.maxWidth&&(d=t.maxWidth),(r.autosizeMode===s.ContentExpandOnly||null!=(n=null==t?void 0:t.editor)&&n.ControlFillsColumn)&&d<(t.width||0)&&(d=t.width||0),r.widthPx=d}getColContentSize(t,e,i,s,o){let l,n,r=t.autoSize,h=1,a=0,d=0;if(r.headerWidthPx=0,r.ignoreHeaderText||(r.headerWidthPx=this.getColHeaderWidth(t)),0===r.headerWidthPx&&(r.headerWidthPx=t.width?t.width:t.maxWidth?t.maxWidth:t.minWidth?t.minWidth:20),r.colValueArray)return d=this.getColWidth(t,i,r.colValueArray),Math.max(r.headerWidthPx,d);let p={};p.colIndex=e,p.rowCount=this.getDataLength(),p.startIndex=0,p.endIndex=p.rowCount-1,p.valueArr=null,p.getRowVal=e=>this.getDataItem(e)[t.field];let m=(s?r.rowSelectionModeOnInit:void 0)||r.rowSelectionMode;if(m===c.FirstRow&&(p.endIndex=0),m===c.LastRow&&(p.endIndex=p.startIndex=p.rowCount-1),m===c.FirstNRows&&(p.endIndex=Math.min(r.rowSelectionCount||0,p.rowCount)-1),r.valueFilterMode===u.DeDuplicate){let t={};for(l=p.startIndex;l<=p.endIndex;l++)t[p.getRowVal(l)]=!0;if(Object.keys)p.valueArr=Object.keys(t);else{p.valueArr=[];for(let e in t)t&&p.valueArr.push(e)}p.startIndex=0,p.endIndex=p.length-1}if(r.valueFilterMode===u.GetGreatestAndSub){let t,e=0;for(l=p.startIndex;l<=p.endIndex;l++)n=p.getRowVal(l),Math.abs(n)>e&&(t=n,e=Math.abs(n));t=""+t,t=Array(t.length+1).join("9"),t=+t,p.valueArr=[t],p.startIndex=p.endIndex=0}if(r.valueFilterMode===u.GetLongestTextAndSub){for(l=p.startIndex;l<=p.endIndex;l++)n=p.getRowVal(l),(n||"").length>a&&(a=n.length);n=Array(a+1).join("m"),h=this._options.autosizeTextAvgToMWidthRatio||0,p.maxLen=a,p.valueArr=[n],p.startIndex=p.endIndex=0}if(r.valueFilterMode===u.GetLongestText){a=0;let t=0;for(l=p.startIndex;l<=p.endIndex;l++)n=p.getRowVal(l),(n||"").length>a&&(a=n.length,t=l);n=p.getRowVal(t),p.maxLen=a,p.valueArr=[n],p.startIndex=p.endIndex=0}return p.maxLen&&p.maxLen>30&&o>1&&(r.sizeToRemaining=!0),d=this.getColWidth(t,i,p)*h,Math.max(r.headerWidthPx,d)}getColWidth(t,e,i){var s,o,l;let n=p.createDomElement("div",{className:"slick-row ui-widget-content"},e),r=p.createDomElement("div",{className:"slick-cell"},n);r.style.position="absolute",r.style.visibility="hidden",r.style.textOverflow="initial",r.style.whiteSpace="nowrap";let h,a,d,c,u=0,w="",g=t.autoSize.widthEvalMode===m.TextOnly;if((null==(s=t.autoSize)?void 0:s.widthEvalMode)===m.Auto){let e=!t.formatterOverride&&!t.formatter,i=(null==(o=null==t?void 0:t.formatterOverride)?void 0:o.ReturnsTextOnly)||!t.formatterOverride&&(null==(l=t.formatter)?void 0:l.ReturnsTextOnly);g=e||i}if(this.canvas_context&&g){let e=getComputedStyle(r);for(this.canvas_context.font=e.fontSize+" "+e.fontFamily,h=i.startIndex;h<=i.endIndex;h++)c=i.valueArr?i.valueArr[h]:i.getRowVal(h),d=t.formatterOverride?t.formatterOverride(h,i.colIndex,c,t,this.getDataItem(h),this):t.formatter?t.formatter(h,i.colIndex,c,t,this.getDataItem(h),this):""+c,a=d?this.canvas_context.measureText(d).width:0,a>u&&(u=a,w=d);return r.textContent=w,a=r.offsetWidth,n.remove(),a}for(h=i.startIndex;h<=i.endIndex;h++)c=i.valueArr?i.valueArr[h]:i.getRowVal(h),d=t.formatterOverride?t.formatterOverride(h,i.colIndex,c,t,this.getDataItem(h),this):t.formatter?t.formatter(h,i.colIndex,c,t,this.getDataItem(h),this):""+c,this.applyFormatResultToCellNode(d,r),a=r.offsetWidth,a>u&&(u=a);return n.remove(),u}getColHeaderWidth(t){let e=0,i=this.getUID()+t.id,s=document.getElementById(i),o=`${i}_`,l=s.cloneNode(!0);if(s)l.id=o,l.style.cssText="position: absolute; visibility: hidden;right: auto;text-overflow: initial;white-space: nowrap;",s.parentNode.insertBefore(l,s),e=l.offsetWidth,l.parentNode.removeChild(l);else{let i=this.getHeader(t);s=p.createDomElement("div",{id:o,className:"ui-state-default slick-state-default slick-header-column"},i);let n=p.createDomElement("span",{className:"slick-column-name"},s);this.applyHtmlCode(n,t.name),l.style.cssText="position: absolute; visibility: hidden;right: auto;text-overflow: initial;white-space: nowrap;",t.headerCssClass&&s.classList.add(...p.classNameToList(t.headerCssClass)),e=s.offsetWidth,i.removeChild(s)}return e}legacyAutosizeColumns(){var t,e;let i,s,o=0,l=0,n=0,r=[],h=this.viewportHasVScroll?this.viewportW-(null!=(e=null==(t=this.scrollbarDimensions)?void 0:t.width)?e:0):this.viewportW;for(i=0;i<this.columns.length;i++)s=this.columns[i],s&&!s.hidden?(r.push(s.width||0),l+=s.width||0,s.resizable&&(o+=(s.width||0)-Math.max(s.minWidth||0,this.absoluteColumnMinWidth))):r.push(0);for(n=l;l>h&&o;){let t=(l-h)/o;for(i=0;i<this.columns.length&&l>h;i++){if(s=this.columns[i],!s||s.hidden)continue;let e=r[i];if(!s.resizable||e<=s.minWidth||e<=this.absoluteColumnMinWidth)continue;let n=Math.max(s.minWidth,this.absoluteColumnMinWidth),h=Math.floor(t*(e-n))||1;h=Math.min(h,e-n),l-=h,o-=h,r[i]-=h}if(n<=l)break;n=l}for(n=l;l<h;){let t=h/l;for(i=0;i<this.columns.length&&l<h;i++){if(s=this.columns[i],!s||s.hidden)continue;let e,o=r[i];e=!s.resizable||s.maxWidth<=o?0:Math.min(Math.floor(t*o)-o,s.maxWidth-o||1e6)||1,l+=e,r[i]+=l<=h?e:0}if(n>=l)break;n=l}let a=!1;for(i=0;i<this.columns.length;i++)!s||s.hidden||(this.columns[i].rerenderOnResize&&this.columns[i].width!==r[i]&&(a=!0),this.columns[i].width=r[i]);this.reRenderColumns(a)}reRenderColumns(t){this.applyColumnHeaderWidths(),this.updateCanvasWidth(!0),this.trigger(this.onAutosizeColumns,{columns:this.columns}),t&&(this.invalidateAllRows(),this.render())}getVisibleColumns(){return this.columns.filter((t=>!t.hidden))}trigger(t,e,i){let s=i||new l(i,e),o=e||{};return o.grid=this,t.notify(o,s,this)}getEditorLock(){return this._options.editorLock}getEditController(){return this.editController}getColumnIndex(t){return this.columnsById[t]}applyColumnHeaderWidths(){if(!this.initialized)return;let t=0,e=this.getVisibleColumns();this._headers.forEach((i=>{for(let s=0;s<i.children.length;s++,t++){let o=i.children[s],l=((e[t]||{}).width||0)-this.headerColumnWidthDiff;p.width(o)!==l&&p.width(o,l)}})),this.updateColumnCaches()}applyColumnWidths(){var t;let e,i=0,s=0;for(let o=0;o<this.columns.length;o++)null!=(t=this.columns[o])&&t.hidden||(s=this.columns[o].width||0,e=this.getColumnCssRules(o),e.left.style.left=`${i}px`,e.right.style.right=(-1!==this._options.frozenColumn&&o>this._options.frozenColumn?this.canvasWidthR:this.canvasWidthL)-i-s+"px",this._options.frozenColumn!==o&&(i+=this.columns[o].width)),this._options.frozenColumn===o&&(i=0)}setSortColumn(t,e){this.setSortColumns([{columnId:t,sortAsc:e}])}getColumnByIndex(t){let e;return this._headers.every((i=>{let s=i.children.length;return t<s?(e=i.children[t],!1):(t-=s,!0)})),e}setSortColumns(t){this.sortColumns=t;let e=this._options.numberedMultiColumnSort&&this.sortColumns.length>1;this._headers.forEach((t=>{let e=t.querySelectorAll(".slick-header-column-sorted");e.forEach((t=>{t.classList.remove("slick-header-column-sorted")})),e=t.querySelectorAll(".slick-sort-indicator"),e.forEach((t=>{t.classList.remove("slick-sort-indicator-asc"),t.classList.remove("slick-sort-indicator-desc")})),e=t.querySelectorAll(".slick-sort-indicator-numbered"),e.forEach((t=>{t.textContent=""}))}));let i=1;this.sortColumns.forEach((t=>{p.isDefined(t.sortAsc)||(t.sortAsc=!0);let s=this.getColumnIndex(t.columnId);if(p.isDefined(s)){let o=this.getColumnByIndex(s);if(o){o.classList.add("slick-header-column-sorted");let s=o.querySelector(".slick-sort-indicator");null==s||s.classList.add(t.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc"),e&&(s=o.querySelector(".slick-sort-indicator-numbered"),s&&(s.textContent=String(i)))}}i++}))}getSortColumns(){return this.sortColumns}handleSelectedRangesChanged(t,e){var i,s;let o=t.getNativeEvent(),l=this.selectedRows.slice(0);this.selectedRows=[];let n={};for(let t=0;t<e.length;t++)for(let i=e[t].fromRow;i<=e[t].toRow;i++){n[i]||(this.selectedRows.push(i),n[i]={});for(let s=e[t].fromCell;s<=e[t].toCell;s++)this.canCellBeSelected(i,s)&&(n[i][this.columns[s].id]=this._options.selectedCellCssClass)}if(this.setCellCssStyles(this._options.selectedCellCssClass||"",n),this.simpleArrayEquals(l,this.selectedRows)){let e=null!=(s=null==(i=null==o?void 0:o.detail)?void 0:i.caller)?s:"click",n=new Set(this.getSelectedRows()),r=new Set(l),h=Array.from(n).filter((t=>!r.has(t))),a=Array.from(r).filter((t=>!n.has(t)));this.trigger(this.onSelectedRowsChanged,{rows:this.getSelectedRows(),previousSelectedRows:l,caller:e,changedSelectedRows:h,changedUnselectedRows:a},t)}}simpleArrayEquals(t,e){return Array.isArray(t)&&Array.isArray(e)&&e.sort().toString()!==t.sort().toString()}getColumns(){return this.columns}updateColumnCaches(){this.columnPosLeft=[],this.columnPosRight=[];let t=0;for(let e=0,i=this.columns.length;e<i;e++)!this.columns[e]||this.columns[e].hidden||(this.columnPosLeft[e]=t,this.columnPosRight[e]=t+(this.columns[e].width||0),this._options.frozenColumn===e?t=0:t+=this.columns[e].width||0)}updateColumnProps(){this.columnsById={};for(let t=0;t<this.columns.length;t++){let e=this.columns[t];e.width&&(e.widthRequest=e.width),this._options.mixinDefaults?(p.applyDefaults(e,this._columnDefaults),e.autoSize||(e.autoSize={}),p.applyDefaults(e.autoSize,this._columnAutosizeDefaults)):(e=this.columns[t]=p.extend({},this._columnDefaults,e),e.autoSize=p.extend({},this._columnAutosizeDefaults,e.autoSize)),this.columnsById[e.id]=t,e.minWidth&&(e.width||0)<e.minWidth&&(e.width=e.minWidth),e.maxWidth&&(e.width||0)>e.maxWidth&&(e.width=e.maxWidth)}}setColumns(t){this.trigger(this.onBeforeSetColumns,{previousColumns:this.columns,newColumns:t,grid:this}),this.columns=t,this.updateColumnsInternal()}updateColumns(){this.trigger(this.onBeforeUpdateColumns,{columns:this.columns,grid:this}),this.updateColumnsInternal()}updateColumnsInternal(){var t;this.updateColumnProps(),this.updateColumnCaches(),this.initialized&&(this.setPaneFrozenClasses(),this.setPaneVisibility(),this.setOverflow(),this.invalidateAllRows(),this.createColumnHeaders(),this.createColumnFooter(),this.removeCssRules(),this.createCssRules(),this.resizeCanvas(),this.updateCanvasWidth(),this.applyColumnHeaderWidths(),this.applyColumnWidths(),this.handleScroll(),null==(t=this.getSelectionModel())||t.refreshSelections())}getOptions(){return this._options}setOptions(t,e,i,s){this.prepareForOptionsChange(),this._options.enableAddRow!==t.enableAddRow&&this.invalidateRow(this.getDataLength()),void 0!==t.frozenColumn&&t.frozenColumn>=0&&(this.getViewports().forEach((t=>t.scrollLeft=0)),this.handleScroll());let o=p.extend(!0,{},this._options);this._options=p.extend(this._options,t),this.trigger(this.onSetOptions,{optionsBefore:o,optionsAfter:this._options}),this.internal_setOptions(e,i,s)}activateChangedOptions(t,e,i){this.prepareForOptionsChange(),this.invalidateRow(this.getDataLength()),this.trigger(this.onActivateChangedOptions,{options:this._options}),this.internal_setOptions(t,e,i)}prepareForOptionsChange(){this.getEditorLock().commitCurrentEdit()&&this.makeActiveCellNormal()}internal_setOptions(t,e,i){void 0!==this._options.showColumnHeader&&this.setColumnHeaderVisibility(this._options.showColumnHeader),this.validateAndEnforceOptions(),this.setFrozenOptions(),void 0!==this._options.frozenBottom&&(this.enforceFrozenRowHeightRecalc=!0),this._viewport.forEach((t=>{t.style.overflowY=this._options.autoHeight?"hidden":"auto"})),t||this.render(),this.setScroller(),i||this.setOverflow(),e||this.setColumns(this.columns),!this._options.enableMouseWheelScrollHandler||!this._viewport||this.slickMouseWheelInstances&&0!==this.slickMouseWheelInstances.length?!1===this._options.enableMouseWheelScrollHandler&&this.destroyAllInstances(this.slickMouseWheelInstances):this._viewport.forEach((t=>{this.slickMouseWheelInstances.push(g({element:t,onMouseWheel:this.handleMouseWheel.bind(this)}))}))}validateAndEnforceOptions(){this._options.autoHeight&&(this._options.leaveSpaceForNewRows=!1),this._options.forceFitColumns&&(this._options.autosizeColsMode=r.LegacyForceFit)}setData(t,e){this.data=t,this.invalidateAllRows(),this.updateRowCount(),e&&this.scrollTo(0)}getData(){return this.data}getDataLength(){var t,e;return this.data.getLength?this.data.getLength():null!=(e=null==(t=this.data)?void 0:t.length)?e:0}getDataLengthIncludingAddNew(){return this.getDataLength()+(!this._options.enableAddRow||this.pagingActive&&!this.pagingIsLastPage?0:1)}getDataItem(t){return this.data.getItem?this.data.getItem(t):this.data[t]}getItemMetadaWhenExists(t){return"getItemMetadata"in this.data?this.data.getItemMetadata(t):null}getTopPanel(){return this._topPanels[0]}getTopPanels(){return this._topPanels}hasDataView(){return!Array.isArray(this.data)}togglePanelVisibility(t,e,i,s){let o=!1!==s;if(this._options[t]!==i)if(this._options[t]=i,i){if(o)return void p.slideDown(e,this.resizeCanvas.bind(this));p.show(e),this.resizeCanvas()}else{if(o)return void p.slideUp(e,this.resizeCanvas.bind(this));p.hide(e),this.resizeCanvas()}}setTopPanelVisibility(t,e){this.togglePanelVisibility("showTopPanel",this._topPanelScrollers,t,e)}setHeaderRowVisibility(t,e){this.togglePanelVisibility("showHeaderRow",this._headerRowScroller,t,e)}setColumnHeaderVisibility(t,e){this.togglePanelVisibility("showColumnHeader",this._headerScroller,t,e)}setFooterRowVisibility(t,e){this.togglePanelVisibility("showFooterRow",this._footerRowScroller,t,e)}setPreHeaderPanelVisibility(t,e){this.togglePanelVisibility("showPreHeaderPanel",[this._preHeaderPanelScroller,this._preHeaderPanelScrollerR],t,e)}setTopHeaderPanelVisibility(t){this.togglePanelVisibility("showTopHeaderPanel",this._topHeaderPanelScroller,t)}getContainerNode(){return this._container}getRowHeight(){return this._options.rowHeight}getRowTop(t){return Math.round(this._options.rowHeight*t-this.offset)}getRowBottom(t){return this.getRowTop(t)+this._options.rowHeight}getRowFromPosition(t){return Math.floor((t+this.offset)/this._options.rowHeight)}scrollTo(t){var e,i;t=Math.max(t,0),t=Math.min(t,(this.th||0)-p.height(this._viewportScrollContainerY)+((this.viewportHasHScroll||this.hasFrozenColumns())&&null!=(i=null==(e=this.scrollbarDimensions)?void 0:e.height)?i:0));let s=this.offset;this.offset=Math.round(this.page*(this.cj||0)),this.page=Math.min((this.n||0)-1,Math.floor(t/(this.ph||0)));let o=t-this.offset;if(this.offset!==s){let t=this.getVisibleRange(o);this.cleanupRows(t),this.updateRowPositions()}this.prevScrollTop!==o&&(this.vScrollDir=this.prevScrollTop+s<o+this.offset?1:-1,this.lastRenderedScrollTop=this.scrollTop=this.prevScrollTop=o,this.hasFrozenColumns()&&(this._viewportTopL.scrollTop=o),this.hasFrozenRows&&(this._viewportBottomL.scrollTop=this._viewportBottomR.scrollTop=o),this._viewportScrollContainerY&&(this._viewportScrollContainerY.scrollTop=o),this.trigger(this.onViewportChanged,{}))}defaultFormatter(t,e,i){return p.isDefined(i)?(i+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}getFormatter(t,e){var i,s,o;let l=null==(s=null==(i=this.data)?void 0:i.getItemMetadata)?void 0:s.call(i,t),n=(null==l?void 0:l.columns)&&(l.columns[e.id]||l.columns[this.getColumnIndex(e.id)]);return(null==n?void 0:n.formatter)||(null==l?void 0:l.formatter)||e.formatter||(null==(o=this._options.formatterFactory)?void 0:o.getFormatter(e))||this._options.defaultFormatter}getEditor(t,e){var i,s,o,l;let n=this.columns[e],r=this.getItemMetadaWhenExists(t),h=null==r?void 0:r.columns;return void 0!==(null==(i=null==h?void 0:h[n.id])?void 0:i.editor)?h[n.id].editor:void 0!==(null==(s=null==h?void 0:h[e])?void 0:s.editor)?h[e].editor:n.editor||(null==(l=null==(o=this._options)?void 0:o.editorFactory)?void 0:l.getEditor(n))}getDataItemValueForColumn(t,e){return this._options.dataItemColumnValueExtractor?this._options.dataItemColumnValueExtractor(t,e):t[e.field]}appendRowHtml(t,e,i,s,o){let l=this.getDataItem(i),n=i<o&&!l,r="slick-row"+(this.hasFrozenRows&&i<=this._options.frozenRow?" frozen":"")+(n?" loading":"")+(i===this.activeRow&&this._options.showCellSelection?" active":"")+(i%2==1?" odd":" even");l||(r+=` ${this._options.addNewRowCssClass}`);let h=this.getItemMetadaWhenExists(i);null!=h&&h.cssClasses&&(r+=` ${h.cssClasses}`);let a,d=p.createDomElement("div",{className:`ui-widget-content ${r}`,role:"row",dataset:{row:`${i}`}}),c=this.getFrozenRowOffset(i),u=this.getRowTop(i)-c;"transform"===this._options.rowTopOffsetRenderType?d.style.transform=`translateY(${u}px)`:d.style.top=`${u}px`,t.push(d),this.hasFrozenColumns()&&(a=d.cloneNode(!0),e.push(a));let m,w,g,v,C=!0;for(let t=0,e=this.columns.length;t<e;t++){if(C=!0,v=this.columns[t],!v||v.hidden)continue;w=1,g=1,m=null,null!=h&&h.columns&&(m=h.columns[v.id]||h.columns[t],w=(null==m?void 0:m.colspan)||1,g=(null==m?void 0:m.rowspan)||1,"*"===w&&(w=e-t),g>o-i&&(g=o-i)),!this._options.enableCellRowSpan&&g>1&&console.warn('[SlickGrid] Cell "rowspan" is an opt-in grid option because of its small perf hit, you must enable it via the "enableCellRowSpan" grid option.');let n=w;if(!this.getParentRowSpanByCell(i,t)){if(this.columnPosRight[Math.min(e-1,t+n-1)]>s.leftPx){if(!v.alwaysRenderColumn&&this.columnPosLeft[t]>s.rightPx&&(C=!1),C){let e=this.hasFrozenColumns()&&t>this._options.frozenColumn?a:d;this.appendCellHtml(e,i,t,n,g,m,l)}}else(v.alwaysRenderColumn||this.hasFrozenColumns()&&t<=this._options.frozenColumn)&&this.appendCellHtml(d,i,t,n,g,m,l);n>1&&(t+=n-1)}}}appendCellHtml(t,e,i,s,o,l,n){let r=this.columns[i],h=`slick-cell l${i} r${Math.min(this.columns.length-1,i+s-1)}`+(r.cssClass?` ${r.cssClass}`:"")+(o>1?" rowspan":"")+(null!=l&&l.cssClass?` ${l.cssClass}`:"");this.hasFrozenColumns()&&i<=this._options.frozenColumn&&(h+=" frozen"),e===this.activeRow&&i===this.activeCell&&this._options.showCellSelection&&(h+=" active"),Object.keys(this.cellCssClasses).forEach((t=>{var i;null!=(i=this.cellCssClasses[t][e])&&i[r.id]&&(h+=` ${this.cellCssClasses[t][e][r.id]}`)}));let a=null,d="";n&&(a=this.getDataItemValueForColumn(n,r),d=this.getFormatter(e,r)(e,i,a,r,n,this),null==d&&(d=""));let c=this.trigger(this.onBeforeAppendCell,{row:e,cell:i,value:a,dataContext:n}).getReturnValue(),u="string"==typeof c?c:"";null!=d&&d.addClasses&&(u+=p.classNameToList((u?" ":"")+d.addClasses).join(" "));let m=null!=d&&d.toolTip?`${d.toolTip}`:"",w=p.createDomElement("div",{className:p.classNameToList(`${h} ${u||""}`).join(" "),role:"gridcell",tabIndex:-1});w.setAttribute("aria-describedby",this.uid+r.id),m&&w.setAttribute("title",m);let g=this.getCellHeight(e,o);if(o>1&&g!==this._options.rowHeight-this.cellHeightDiff&&(w.style.height=`${g||0}px`),r.hasOwnProperty("cellAttrs")&&r.cellAttrs instanceof Object&&Object.keys(r.cellAttrs).forEach((t=>{r.cellAttrs.hasOwnProperty(t)&&w.setAttribute(t,r.cellAttrs[t])})),n){let t="[object Object]"!==Object.prototype.toString.call(d)?d:d.html||d.text;this.applyHtmlCode(w,t)}t.appendChild(w),d.insertElementAfterTarget&&p.insertAfterElement(w,d.insertElementAfterTarget),this.rowsCache[e].cellRenderQueue.push(i),this.rowsCache[e].cellColSpans[i]=s}cleanupRows(t){let e=new Set;if(this._options.enableCellRowSpan)for(let i=t.top,s=t.bottom;i<=s;i++){let t=this.getRowSpanIntersect(i);null!==t&&e.add(t)}Object.keys(this.rowsCache).forEach((i=>{if(this.rowsCache){let s=+i,o=!0;this.hasFrozenRows&&(this._options.frozenBottom&&s>=this.actualFrozenRow||!this._options.frozenBottom&&s<=this.actualFrozenRow)&&(o=!1),(s=parseInt(i,10))!==this.activeRow&&(s<t.top||s>t.bottom)&&o&&!e.has(s)&&this.removeRowFromCache(s)}})),this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}getRowSpanColumnIntersects(t){return this.getRowSpanIntersection(t,"columns")}getRowSpanIntersect(t){return this.getRowSpanIntersection(t)}getRowSpanIntersection(t,e){let i=[],s=null;for(let o=0,l=this.columns.length;o<l;o++){let l=this._colsWithRowSpanCache[o];if(l)for(let n of Array.from(l)){let[l,r]=n.split(":").map(Number);if(t>=l&&t<=r){if("columns"!==e){s=l;break}i.push(o)}}}return"columns"===e?i:s}getParentRowSpanByCell(t,e,i=!0){let s=null,o=this._colsWithRowSpanCache[e]||new Set;for(let e of Array.from(o)){let[o,l]=e.split(":").map(Number);if((i?t>o:t>=o)&&t<=l){s={start:o,end:l,range:e};break}}return s}remapAllColumnsRowSpan(){let t=this.getDataLength();if(t>0){this._colsWithRowSpanCache={};for(let e=0;e<t;e++)this.remapRowSpanMetadataByRow(e);this._rowSpanIsCached=!0}}remapRowSpanMetadataByRow(t){let e=this.getItemMetadaWhenExists(t);null!=e&&e.columns&&Object.keys(e.columns).forEach((i=>{let s=+i,o=e.columns[s],l=+((null==o?void 0:o.colspan)||1),n=+((null==o?void 0:o.rowspan)||1);this.remapRowSpanMetadata(t,s,l,n)}))}remapRowSpanMetadata(t,e,i,s){var o,l,n;if(s>1){let r=`${t}:${t+s-1}`;if(null!=(o=this._colsWithRowSpanCache)[e]||(o[e]=new Set),this._colsWithRowSpanCache[e].add(r),i>1)for(let t=1;t<i;t++)null!=(l=this._colsWithRowSpanCache)[n=e+t]||(l[n]=new Set),this._colsWithRowSpanCache[e+t].add(r)}}invalidate(){this.updateRowCount(),this.invalidateAllRows(),this.render()}invalidateAllRows(){this.currentEditor&&this.makeActiveCellNormal(),"object"==typeof this.rowsCache&&Object.keys(this.rowsCache).forEach((t=>{this.rowsCache&&this.removeRowFromCache(+t)})),this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}invalidateRows(t){if(!t||!t.length)return;let e;this.vScrollDir=0;let i=t.length,s=new Set,o=new Set,l=t.length>this._options.maxPartialRowSpanRemap||t.length===this.getDataLength()||this._prevInvalidatedRowsCount+t.length===this.getDataLength();for(let o=0;o<i;o++)if(e=t[o],this.currentEditor&&this.activeRow===e&&this.makeActiveCellNormal(),this.rowsCache[e]&&this.removeRowFromCache(e),this._options.enableCellRowSpan&&!l){s.add(e);let t=this.getRowSpanIntersect(e);null!==t&&s.add(t)}if(this._options.enableCellRowSpan&&!l){for(let t of Array.from(s)){let e=this.getRowSpanColumnIntersects(t);for(let i of e){let e=this.getParentRowSpanByCell(t,i);e&&this._colsWithRowSpanCache[i]&&(this._colsWithRowSpanCache[i].delete(e.range),o.add(e.range.split(":").map(Number)[0]))}}for(let t of Array.from(o))this.remapRowSpanMetadataByRow(t)}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup(),this._prevInvalidatedRowsCount=t.length}invalidateRow(t){if(t>=0){let e=[t];if(this._options.enableCellRowSpan){let i=this.getRowSpanIntersect(t);null!==i&&e.push(i)}this.invalidateRows(e)}}queuePostProcessedRowForCleanup(t,e,i){var s;this.postProcessgroupId++,"object"==typeof e&&Object.keys(e).forEach((s=>{e.hasOwnProperty(s)&&this.postProcessedCleanupQueue.push({actionType:"C",groupId:this.postProcessgroupId,node:t.cellNodesByColumnIdx[+s],columnIdx:+s,rowIdx:i})})),t.rowNode||(t.rowNode=[]),this.postProcessedCleanupQueue.push({actionType:"R",groupId:this.postProcessgroupId,node:t.rowNode}),null==(s=t.rowNode)||s.forEach((t=>t.remove()))}queuePostProcessedCellForCleanup(t,e,i){this.postProcessedCleanupQueue.push({actionType:"C",groupId:this.postProcessgroupId,node:t,columnIdx:e,rowIdx:i}),t.remove()}removeRowFromCache(t){var e;let i=this.rowsCache[t];!i||!i.rowNode||(this._options.enableAsyncPostRenderCleanup&&this.postProcessedRows[t]?this.queuePostProcessedRowForCleanup(i,this.postProcessedRows[t],t):null==(e=i.rowNode)||e.forEach((t=>{var e;return null==(e=t.parentElement)?void 0:e.removeChild(t)})),delete this.rowsCache[t],delete this.postProcessedRows[t],this.renderedRows--,this.counter_rows_removed++)}applyFormatResultToCellNode(t,e,i){if(null==t&&(t=""),"[object Object]"!==Object.prototype.toString.call(t))return void this.applyHtmlCode(e,t);let s=t.html||t.text;this.applyHtmlCode(e,s),t.removeClasses&&!i&&e.classList.remove(...p.classNameToList(t.removeClasses)),t.addClasses&&e.classList.add(...p.classNameToList(t.addClasses)),t.toolTip&&e.setAttribute("title",t.toolTip)}updateCell(t,e){let i=this.getCellNode(t,e);if(!i)return;let s=this.columns[e],o=this.getDataItem(t);if(this.currentEditor&&this.activeRow===t&&this.activeCell===e)this.currentEditor.loadValue(o);else{let l=o?this.getFormatter(t,s)(t,e,this.getDataItemValueForColumn(o,s),s,o,this):"";this.applyFormatResultToCellNode(l,i),this.invalidatePostProcessingResults(t)}}updateRow(t){let e=this.rowsCache[t];if(!e)return;this.ensureCellNodesInRowsCache(t);let i,s=this.getDataItem(t);Object.keys(e.cellNodesByColumnIdx).forEach((o=>{if(!e.cellNodesByColumnIdx.hasOwnProperty(o))return;let l=+o,n=this.columns[l],r=e.cellNodesByColumnIdx[l];t===this.activeRow&&l===this.activeCell&&this.currentEditor?this.currentEditor.loadValue(s):s?(i=this.getFormatter(t,n)(t,l,this.getDataItemValueForColumn(s,n),n,s,this),this.applyFormatResultToCellNode(i,r)):p.emptyElement(r)})),this.invalidatePostProcessingResults(t)}getCellHeight(t,e){let i=this._options.rowHeight||0;if(e>1){let s=t+e-1;i=this.getRowBottom(s)-this.getRowTop(t)}else{let t=this.getRowHeight();t!==i-this.cellHeightDiff&&(i=t)}return i-=this.cellHeightDiff,Math.ceil(i)}getViewportRowCount(){var t,e;let i=this.getViewportHeight(),s=null!=(e=null==(t=this.getScrollbarDimensions())?void 0:t.height)?e:0;return Math.floor((i-s)/this._options.rowHeight)}getViewportHeight(){var t,e;if((!this._options.autoHeight||-1!==this._options.frozenColumn)&&(this.topPanelH=this._options.showTopPanel?this._options.topPanelHeight+this.getVBoxDelta(this._topPanelScrollers[0]):0,this.headerRowH=this._options.showHeaderRow?this._options.headerRowHeight+this.getVBoxDelta(this._headerRowScroller[0]):0,this.footerRowH=this._options.showFooterRow?this._options.footerRowHeight+this.getVBoxDelta(this._footerRowScroller[0]):0),this._options.autoHeight){let i=this._paneHeaderL.offsetHeight;i+=this._options.showHeaderRow?this._options.headerRowHeight+this.getVBoxDelta(this._headerRowScroller[0]):0,i+=this._options.showFooterRow?this._options.footerRowHeight+this.getVBoxDelta(this._footerRowScroller[0]):0,i+=this.getCanvasWidth()>this.viewportW&&null!=(e=null==(t=this.scrollbarDimensions)?void 0:t.height)?e:0,this.viewportH=this._options.rowHeight*this.getDataLengthIncludingAddNew()+(-1===this._options.frozenColumn?i:0)}else{let t=this._options.showColumnHeader?p.toFloat(p.height(this._headerScroller[0]))+this.getVBoxDelta(this._headerScroller[0]):0,e=this._options.createPreHeaderPanel&&this._options.showPreHeaderPanel?this._options.preHeaderPanelHeight+this.getVBoxDelta(this._preHeaderPanelScroller):0,i=this._options.createTopHeaderPanel&&this._options.showTopHeaderPanel?this._options.topHeaderPanelHeight+this.getVBoxDelta(this._topHeaderPanelScroller):0,s=getComputedStyle(this._container);this.viewportH=p.toFloat(s.height)-p.toFloat(s.paddingTop)-p.toFloat(s.paddingBottom)-t-this.topPanelH-this.headerRowH-this.footerRowH-e-i}return this.numVisibleRows=Math.ceil(this.viewportH/this._options.rowHeight),this.viewportH}getViewportWidth(){return this.viewportW=parseFloat(p.innerSize(this._container,"width"))||this._options.devMode&&this._options.devMode.containerClientWidth||0,this.viewportW}resizeCanvas(){var t,e,i,s,o,l;if(!this.initialized)return;if(this.paneTopH=0,this.paneBottomH=0,this.viewportTopH=0,this.viewportBottomH=0,this.getViewportWidth(),this.getViewportHeight(),this.hasFrozenRows?this._options.frozenBottom?(this.paneTopH=this.viewportH-this.frozenRowsHeight-(null!=(e=null==(t=this.scrollbarDimensions)?void 0:t.height)?e:0),this.paneBottomH=this.frozenRowsHeight+(null!=(s=null==(i=this.scrollbarDimensions)?void 0:i.height)?s:0)):(this.paneTopH=this.frozenRowsHeight,this.paneBottomH=this.viewportH-this.frozenRowsHeight):this.paneTopH=this.viewportH,this.paneTopH+=this.topPanelH+this.headerRowH+this.footerRowH,this.hasFrozenColumns()&&this._options.autoHeight&&(this.paneTopH+=null!=(l=null==(o=this.scrollbarDimensions)?void 0:o.height)?l:0),this.viewportTopH=this.paneTopH-this.topPanelH-this.headerRowH-this.footerRowH,this._options.autoHeight){if(this.hasFrozenColumns()){let t=getComputedStyle(this._headerScrollerL);p.height(this._container,this.paneTopH+p.toFloat(t.height))}this._paneTopL.style.position="relative"}let n=p.height(this._paneHeaderL);n?n+=this._options.showTopHeaderPanel?this._options.topHeaderPanelHeight:0:n=(this._options.showHeaderRow?this._options.headerRowHeight:0)+(this._options.showPreHeaderPanel?this._options.preHeaderPanelHeight:0),p.setStyleSize(this._paneTopL,"top",n||n),p.height(this._paneTopL,this.paneTopH);let h=this._paneTopL.offsetTop+this.paneTopH;if(this._options.autoHeight||p.height(this._viewportTopL,this.viewportTopH),this.hasFrozenColumns()){let t=p.height(this._paneHeaderL);t&&(t+=this._options.showTopHeaderPanel?this._options.topHeaderPanelHeight:0),p.setStyleSize(this._paneTopR,"top",t),p.height(this._paneTopR,this.paneTopH),p.height(this._viewportTopR,this.viewportTopH),this.hasFrozenRows&&(p.setStyleSize(this._paneBottomL,"top",h),p.height(this._paneBottomL,this.paneBottomH),p.setStyleSize(this._paneBottomR,"top",h),p.height(this._paneBottomR,this.paneBottomH),p.height(this._viewportBottomR,this.paneBottomH))}else this.hasFrozenRows&&(p.width(this._paneBottomL,"100%"),p.height(this._paneBottomL,this.paneBottomH),p.setStyleSize(this._paneBottomL,"top",h));this.hasFrozenRows?(p.height(this._viewportBottomL,this.paneBottomH),this._options.frozenBottom?(p.height(this._canvasBottomL,this.frozenRowsHeight),this.hasFrozenColumns()&&p.height(this._canvasBottomR,this.frozenRowsHeight)):(p.height(this._canvasTopL,this.frozenRowsHeight),this.hasFrozenColumns()&&p.height(this._canvasTopR,this.frozenRowsHeight))):p.height(this._viewportTopR,this.viewportTopH),(!this.scrollbarDimensions||!this.scrollbarDimensions.width)&&(this.scrollbarDimensions=this.measureScrollbar()),this._options.autosizeColsMode===r.LegacyForceFit&&this.autosizeColumns(),this.updateRowCount(),this.handleScroll(),this.lastRenderedScrollLeft=-1,this.render()}updatePagingStatusFromView(t){this.pagingActive=0!==t.pageSize,this.pagingIsLastPage=t.pageNum===t.totalPages-1}updateRowCount(){var t,e,i,s;if(!this.initialized)return;let o=this.getDataLength();o>0&&o!==this._prevDataLength&&(this._rowSpanIsCached=!1),this._options.enableCellRowSpan&&!this._rowSpanIsCached&&this.remapAllColumnsRowSpan(),this._prevDataLength=o;let l=this.getDataLengthIncludingAddNew(),n=0,h=this.hasFrozenRows&&!this._options.frozenBottom?p.height(this._canvasBottomL):p.height(this._canvasTopL);n=this.hasFrozenRows?this.getDataLength()-this._options.frozenRow:l+(this._options.leaveSpaceForNewRows?this.numVisibleRows-1:0);let a=p.height(this._viewportScrollContainerY),d=this.viewportHasVScroll;this.viewportHasVScroll=this._options.alwaysShowVerticalScroll||!this._options.autoHeight&&n*this._options.rowHeight>a,this.makeActiveCellNormal();let c=o-1;"object"==typeof this.rowsCache&&Object.keys(this.rowsCache).forEach((t=>{let e=+t;e>c&&this.removeRowFromCache(e)})),this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup(),this.activeCellNode&&this.activeRow>c&&this.resetActiveCell(),h=this.h,this._options.autoHeight?this.h=this._options.rowHeight*n:(this.th=Math.max(this._options.rowHeight*n,a-(null!=(e=null==(t=this.scrollbarDimensions)?void 0:t.height)?e:0)),this.th<this.maxSupportedCssHeight?(this.h=this.ph=this.th,this.n=1,this.cj=0):(this.h=this.maxSupportedCssHeight,this.ph=this.h/100,this.n=Math.floor(this.th/this.ph),this.cj=(this.th-this.h)/(this.n-1))),(this.h!==h||this.enforceFrozenRowHeightRecalc)&&(this.hasFrozenRows&&!this._options.frozenBottom?(p.height(this._canvasBottomL,this.h),this.hasFrozenColumns()&&p.height(this._canvasBottomR,this.h)):(p.height(this._canvasTopL,this.h),p.height(this._canvasTopR,this.h)),this.scrollTop=this._viewportScrollContainerY.scrollTop,this.scrollHeight=this._viewportScrollContainerY.scrollHeight,this.enforceFrozenRowHeightRecalc=!1);let u=this.scrollTop+this.offset<=this.th-a;0===this.th||0===this.scrollTop?this.page=this.offset=0:u?this.scrollTo(this.scrollTop+this.offset):this.scrollTo(this.th-a+(null!=(s=null==(i=this.scrollbarDimensions)?void 0:i.height)?s:0)),this.h!==h&&this._options.autoHeight&&this.resizeCanvas(),this._options.autosizeColsMode===r.LegacyForceFit&&d!==this.viewportHasVScroll&&this.autosizeColumns(),this.updateCanvasWidth(!1)}getViewport(t,e){return this.getVisibleRange(t,e)}getVisibleRange(t,e){return null!=t||(t=this.scrollTop),null!=e||(e=this.scrollLeft),{top:this.getRowFromPosition(t),bottom:this.getRowFromPosition(t+this.viewportH)+1,leftPx:e,rightPx:e+this.viewportW}}getRenderedRange(t,e){let i=this.getVisibleRange(t,e),s=Math.round(this.viewportH/this._options.rowHeight),o=this._options.minRowBuffer;return-1===this.vScrollDir?(i.top-=s,i.bottom+=o):1===this.vScrollDir?(i.top-=o,i.bottom+=s):(i.top-=o,i.bottom+=o),i.top=Math.max(0,i.top),i.bottom=Math.min(this.getDataLengthIncludingAddNew()-1,i.bottom),i.leftPx-=this.viewportW,i.rightPx+=this.viewportW,i.leftPx=Math.max(0,i.leftPx),i.rightPx=Math.min(this.canvasWidth,i.rightPx),i}ensureCellNodesInRowsCache(t){var e;let i=this.rowsCache[t];if(null!=i&&i.cellRenderQueue.length&&null!=(e=i.rowNode)&&e.length){let t=i.rowNode,e=Array.from(t[0].children);t.length>1&&(e=e.concat(Array.from(t[1].children)));let s=e.length-1;for(;i.cellRenderQueue.length;){let t=i.cellRenderQueue.pop();i.cellNodesByColumnIdx[t]=e[s--]}}}cleanUpCells(t,e){var i,s;if(this.hasFrozenRows&&(this._options.frozenBottom&&e>this.actualFrozenRow||e<=this.actualFrozenRow))return;let o,l,n=this.rowsCache[e],r=[];for(Object.keys(n.cellNodesByColumnIdx).forEach((i=>{var s;if(!n.cellNodesByColumnIdx.hasOwnProperty(i))return;let o=+i;if(o<=this._options.frozenColumn||Array.isArray(this.columns)&&null!=(s=this.columns[o])&&s.alwaysRenderColumn)return;let l=n.cellColSpans[o];(this.columnPosLeft[o]>t.rightPx||this.columnPosRight[Math.min(this.columns.length-1,(o||0)+l-1)]<t.leftPx)&&(e===this.activeRow&&Number(o)===this.activeCell||r.push(o))}));p.isDefined(o=r.pop());)l=n.cellNodesByColumnIdx[o],this._options.enableAsyncPostRenderCleanup&&null!=(i=this.postProcessedRows[e])&&i[o]?this.queuePostProcessedCellForCleanup(l,o,e):null==(s=l.parentElement)||s.removeChild(l),delete n.cellColSpans[o],delete n.cellNodesByColumnIdx[o],this.postProcessedRows[e]&&delete this.postProcessedRows[e][o]}cleanUpAndRenderCells(t){var e;let i,s,o,l,n,r,h=document.createElement("div"),a=[],d=0,c=this.columns.length;for(let n=t.top,r=t.bottom;n<=r;n++){if(i=this.rowsCache[n],!i)continue;this.ensureCellNodesInRowsCache(n),(!this._options.enableCellRowSpan||null===this.getRowSpanIntersect(n))&&this.cleanUpCells(t,n),s=0;let r=this.getItemMetadaWhenExists(n);r=null==r?void 0:r.columns;let u=this.getDataItem(n);for(let a=0,d=c;a<d;a++){if(!this.columns[a]||this.columns[a].hidden)continue;if(this.columnPosLeft[a]>t.rightPx)break;if(p.isDefined(o=i.cellColSpans[a])){a+=o>1?o-1:0;continue}o=1,l=null,r&&(l=r[this.columns[a].id]||r[a],o=null!=(e=null==l?void 0:l.colspan)?e:1,"*"===o&&(o=d-a));let c=o;if(!this.getParentRowSpanByCell(n,a)){if(this.columnPosRight[Math.min(d-1,a+c-1)]>t.leftPx){let t=this.getRowspan(n,a);this.appendCellHtml(h,n,a,c,t,l,u),s++}a+=c>1?c-1:0}}s&&(d+=s,a.push(n))}if(h.children.length)for(;p.isDefined(n=a.pop());){let t;for(i=this.rowsCache[n];p.isDefined(t=i.cellRenderQueue.pop());)r=h.lastChild,r&&(this.hasFrozenColumns()&&t>this._options.frozenColumn?i.rowNode[1].appendChild(r):i.rowNode[0].appendChild(r),i.cellNodesByColumnIdx[t]=r)}}createEmptyCachingRow(){return{rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]}}renderRows(t){var e,i,s,o;let l=[],n=[],r=[],h=!1,a=this.getDataLength(),d=new Set,c=new Set;for(let e=t.top,i=t.bottom;e<=i;e++)if(!(this.rowsCache[e]||this.hasFrozenRows&&this._options.frozenBottom&&e===this.getDataLength())){if(this.renderedRows++,r.push(e),c.add(e),this.rowsCache[e]=this.createEmptyCachingRow(),this._options.enableCellRowSpan){let t=this.getRowSpanIntersect(e);null!==t&&c.add(t)}this.appendRowHtml(l,n,e,t,a),d.add(e),this.activeCellNode&&this.activeRow===e&&(h=!0),this.counter_rows_rendered++}let u=this.setDifference(c,d);if(u.size>0&&u.forEach((e=>{this.removeRowFromCache(e),r.push(e),this.rowsCache[e]=this.createEmptyCachingRow(),this.appendRowHtml(l,n,e,t,a)})),r.length){let t=document.createElement("div"),a=document.createElement("div");l.forEach((e=>t.appendChild(e))),n.forEach((t=>a.appendChild(t)));for(let l=0,n=r.length;l<n;l++)this.hasFrozenRows&&r[l]>=this.actualFrozenRow?this.hasFrozenColumns()?null!=(e=this.rowsCache)&&e.hasOwnProperty(r[l])&&t.firstChild&&a.firstChild&&(this.rowsCache[r[l]].rowNode=[t.firstChild,a.firstChild],this._canvasBottomL.appendChild(t.firstChild),this._canvasBottomR.appendChild(a.firstChild)):null!=(i=this.rowsCache)&&i.hasOwnProperty(r[l])&&t.firstChild&&(this.rowsCache[r[l]].rowNode=[t.firstChild],this._canvasBottomL.appendChild(t.firstChild)):this.hasFrozenColumns()?null!=(s=this.rowsCache)&&s.hasOwnProperty(r[l])&&t.firstChild&&a.firstChild&&(this.rowsCache[r[l]].rowNode=[t.firstChild,a.firstChild],this._canvasTopL.appendChild(t.firstChild),this._canvasTopR.appendChild(a.firstChild)):null!=(o=this.rowsCache)&&o.hasOwnProperty(r[l])&&t.firstChild&&(this.rowsCache[r[l]].rowNode=[t.firstChild],this._canvasTopL.appendChild(t.firstChild));h&&(this.activeCellNode=this.getCellNode(this.activeRow,this.activeCell))}}setDifference(t,e){return new Set(Array.from(t).filter((t=>!e.has(t))))}startPostProcessing(){this._options.enableAsyncPostRender&&(window.clearTimeout(this.h_postrender),this.h_postrender=window.setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay))}startPostProcessingCleanup(){this._options.enableAsyncPostRenderCleanup&&(window.clearTimeout(this.h_postrenderCleanup),this.h_postrenderCleanup=window.setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostRenderCleanupDelay))}invalidatePostProcessingResults(t){"object"==typeof this.postProcessedRows[t]&&Object.keys(this.postProcessedRows[t]).forEach((e=>{this.postProcessedRows[t].hasOwnProperty(e)&&(this.postProcessedRows[t][e]="C")})),this.postProcessFromRow=Math.min(this.postProcessFromRow,t),this.postProcessToRow=Math.max(this.postProcessToRow,t),this.startPostProcessing()}updateRowPositions(){for(let t in this.rowsCache)if(this.rowsCache){let e=t?parseInt(t,10):0,i=this.rowsCache[e].rowNode[0];"transform"===this._options.rowTopOffsetRenderType?i.style.transform=`translateY(${this.getRowTop(e)}px)`:i.style.top=`${this.getRowTop(e)}px`}}render(){if(!this.initialized)return;this.scrollThrottle.dequeue();let t=this.getVisibleRange(),e=this.getRenderedRange();if(this.cleanupRows(e),this.lastRenderedScrollLeft!==this.scrollLeft){if(this.hasFrozenRows){let t=p.extend(!0,{},e);this._options.frozenBottom?(t.top=this.actualFrozenRow,t.bottom=this.getDataLength()):(t.top=0,t.bottom=this._options.frozenRow),this.cleanUpAndRenderCells(t)}this.cleanUpAndRenderCells(e)}this.renderRows(e),this.hasFrozenRows&&(this._options.frozenBottom?this.renderRows({top:this.actualFrozenRow,bottom:this.getDataLength()-1,leftPx:e.leftPx,rightPx:e.rightPx}):this.renderRows({top:0,bottom:this._options.frozenRow-1,leftPx:e.leftPx,rightPx:e.rightPx})),this.postProcessFromRow=t.top,this.postProcessToRow=Math.min(this.getDataLengthIncludingAddNew()-1,t.bottom),this.startPostProcessing(),this.lastRenderedScrollTop=this.scrollTop,this.lastRenderedScrollLeft=this.scrollLeft,this.trigger(this.onRendered,{startRow:t.top,endRow:t.bottom,grid:this})}handleHeaderRowScroll(){let t=this._headerRowScrollContainer.scrollLeft;t!==this._viewportScrollContainerX.scrollLeft&&(this._viewportScrollContainerX.scrollLeft=t)}handleFooterRowScroll(){let t=this._footerRowScrollContainer.scrollLeft;t!==this._viewportScrollContainerX.scrollLeft&&(this._viewportScrollContainerX.scrollLeft=t)}handlePreHeaderPanelScroll(){this.handleElementScroll(this._preHeaderPanelScroller)}handleTopHeaderPanelScroll(){this.handleElementScroll(this._topHeaderPanelScroller)}handleElementScroll(t){let e=t.scrollLeft;e!==this._viewportScrollContainerX.scrollLeft&&(this._viewportScrollContainerX.scrollLeft=e)}handleScroll(t){return this.scrollHeight=this._viewportScrollContainerY.scrollHeight,this.scrollTop=this._viewportScrollContainerY.scrollTop,this.scrollLeft=this._viewportScrollContainerX.scrollLeft,this._handleScroll(t?"scroll":"system")}_handleScroll(t="system"){let e=this._viewportScrollContainerY.scrollHeight-this._viewportScrollContainerY.clientHeight,i=this._viewportScrollContainerY.scrollWidth-this._viewportScrollContainerY.clientWidth;e=Math.max(0,e),i=Math.max(0,i),this.scrollTop>e&&(this.scrollTop=e,this.scrollHeight=e),this.scrollLeft>i&&(this.scrollLeft=i);let s=Math.abs(this.scrollTop-this.prevScrollTop),o=Math.abs(this.scrollLeft-this.prevScrollLeft);if(o&&(this.prevScrollLeft=this.scrollLeft,this._viewportScrollContainerX.scrollLeft=this.scrollLeft,this._headerScrollContainer.scrollLeft=this.scrollLeft,this._topPanelScrollers[0].scrollLeft=this.scrollLeft,this._options.createFooterRow&&(this._footerRowScrollContainer.scrollLeft=this.scrollLeft),this._options.createPreHeaderPanel&&(this.hasFrozenColumns()?this._preHeaderPanelScrollerR.scrollLeft=this.scrollLeft:this._preHeaderPanelScroller.scrollLeft=this.scrollLeft),this._options.createTopHeaderPanel&&(this._topHeaderPanelScroller.scrollLeft=this.scrollLeft),this.hasFrozenColumns()?(this.hasFrozenRows&&(this._viewportTopR.scrollLeft=this.scrollLeft),this._headerRowScrollerR.scrollLeft=this.scrollLeft):(this.hasFrozenRows&&(this._viewportTopL.scrollLeft=this.scrollLeft),this._headerRowScrollerL.scrollLeft=this.scrollLeft)),s&&!this._options.autoHeight)if(this.vScrollDir=this.prevScrollTop<this.scrollTop?1:-1,this.prevScrollTop=this.scrollTop,"mousewheel"===t&&(this._viewportScrollContainerY.scrollTop=this.scrollTop),this.hasFrozenColumns()&&(this.hasFrozenRows&&!this._options.frozenBottom?this._viewportBottomL.scrollTop=this.scrollTop:this._viewportTopL.scrollTop=this.scrollTop),s<this.viewportH)this.scrollTo(this.scrollTop+this.offset);else{let t=this.offset;this.h===this.viewportH?this.page=0:this.page=Math.min(this.n-1,Math.floor(this.scrollTop*((this.th-this.viewportH)/(this.h-this.viewportH))*(1/this.ph))),this.offset=Math.round(this.page*this.cj),t!==this.offset&&this.invalidateAllRows()}if(o||s){let t=Math.abs(this.lastRenderedScrollLeft-this.scrollLeft),e=Math.abs(this.lastRenderedScrollTop-this.scrollTop);(t>20||e>20)&&(this._options.forceSyncScrolling||e<this.viewportH&&t<this.viewportW?this.render():this.scrollThrottle.enqueue(),this.trigger(this.onViewportChanged,{}))}return this.trigger(this.onScroll,{triggeredBy:t,scrollHeight:this.scrollHeight,scrollLeft:this.scrollLeft,scrollTop:this.scrollTop}),!(!o&&!s)}actionThrottle(t,e){let i=!1,s=!1,o=()=>{s=!1},l=()=>{i=!0,window.clearTimeout(this._executionBlockTimer),this._executionBlockTimer=window.setTimeout(n,e),t.call(this)},n=()=>{s?(o(),l()):i=!1};return{enqueue:(()=>{i?s=!0:l()}).bind(this),dequeue:o.bind(this)}}asyncPostProcessRows(){let t=this.getDataLength();for(;this.postProcessFromRow<=this.postProcessToRow;){let e=this.vScrollDir>=0?this.postProcessFromRow++:this.postProcessToRow--,i=this.rowsCache[e];if(i&&!(e>=t))return this.postProcessedRows[e]||(this.postProcessedRows[e]={}),this.ensureCellNodesInRowsCache(e),Object.keys(i.cellNodesByColumnIdx).forEach((t=>{if(i.cellNodesByColumnIdx.hasOwnProperty(t)){let s=+t,o=this.columns[s],l=this.postProcessedRows[e][s];if(o.asyncPostRender&&"R"!==l){let t=i.cellNodesByColumnIdx[s];t&&o.asyncPostRender(t,e,this.getDataItem(e),o,"C"===l),this.postProcessedRows[e][s]="R"}}})),void(this.h_postrender=window.setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay))}}asyncPostProcessCleanupRows(){if(this.postProcessedCleanupQueue.length>0){let t=this.postProcessedCleanupQueue[0].groupId;for(;this.postProcessedCleanupQueue.length>0&&this.postProcessedCleanupQueue[0].groupId===t;){let t=this.postProcessedCleanupQueue.shift();if("R"===(null==t?void 0:t.actionType)&&t.node.forEach((t=>{t.remove()})),"C"===(null==t?void 0:t.actionType)){let e=this.columns[t.columnIdx];e.asyncPostRenderCleanup&&t.node&&e.asyncPostRenderCleanup(t.node,t.rowIdx,e)}}this.h_postrenderCleanup=window.setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostRenderCleanupDelay)}}updateCellCssStylesOnRenderedRows(t,e){let i,s,o;"object"==typeof this.rowsCache&&Object.keys(this.rowsCache).forEach((l=>{this.rowsCache&&(o=null==e?void 0:e[l],s=null==t?void 0:t[l],o&&Object.keys(o).forEach((t=>{(!s||o[t]!==s[t])&&(i=this.getCellNode(+l,this.getColumnIndex(t)),i&&i.classList.remove(o[t]))})),s&&Object.keys(s).forEach((t=>{(!o||o[t]!==s[t])&&(i=this.getCellNode(+l,this.getColumnIndex(t)),i&&i.classList.add(s[t]))})))}))}addCellCssStyles(t,e){if(this.cellCssClasses[t])throw new Error(`SlickGrid addCellCssStyles: cell CSS hash with key "${t}" already exists.`);this.cellCssClasses[t]=e,this.updateCellCssStylesOnRenderedRows(e,null),this.trigger(this.onCellCssStylesChanged,{key:t,hash:e,grid:this})}removeCellCssStyles(t){this.cellCssClasses[t]&&(this.updateCellCssStylesOnRenderedRows(null,this.cellCssClasses[t]),delete this.cellCssClasses[t],this.trigger(this.onCellCssStylesChanged,{key:t,hash:null,grid:this}))}setCellCssStyles(t,e){let i=this.cellCssClasses[t];this.cellCssClasses[t]=e,this.updateCellCssStylesOnRenderedRows(e,i),this.trigger(this.onCellCssStylesChanged,{key:t,hash:e,grid:this})}getCellCssStyles(t){return this.cellCssClasses[t]}flashCell(t,e,i=250){let s=(t,e)=>{e<1||(window.clearTimeout(this._flashCellTimer),this._flashCellTimer=window.setTimeout((()=>{e%2==0?t.classList.add(this._options.cellFlashingCssClass||""):t.classList.remove(this._options.cellFlashingCssClass||""),s(t,e-1)}),i))};if(this.rowsCache[t]){let i=this.getCellNode(t,e);i&&s(i,5)}}highlightRow(t,e){let i=this.rowsCache[t];e||(e=this._options.rowHighlightDuration),Array.isArray(null==i?void 0:i.rowNode)&&this._options.rowHighlightCssClass&&(i.rowNode.forEach((t=>t.classList.add(...p.classNameToList(this._options.rowHighlightCssClass)))),window.clearTimeout(this._highlightRowTimer),this._highlightRowTimer=window.setTimeout((()=>{var t;null==(t=i.rowNode)||t.forEach((t=>t.classList.remove(...p.classNameToList(this._options.rowHighlightCssClass))))}),e))}handleMouseWheel(t,e,i,s){this.scrollHeight=this._viewportScrollContainerY.scrollHeight,t.shiftKey||(this.scrollTop=Math.max(0,this._viewportScrollContainerY.scrollTop-s*this._options.rowHeight)),this.scrollLeft=this._viewportScrollContainerX.scrollLeft+10*i,this._handleScroll("mousewheel")&&t.preventDefault()}handleDragInit(t,e){let i=this.getCellFromEvent(t);if(!i||!this.cellExists(i.row,i.cell))return!1;let s=this.trigger(this.onDragInit,e,t);return!!s.isImmediatePropagationStopped()&&s.getReturnValue()}handleDragStart(t,e){let i=this.getCellFromEvent(t);if(!i||!this.cellExists(i.row,i.cell))return!1;let s=this.trigger(this.onDragStart,e,t);return!!s.isImmediatePropagationStopped()&&s.getReturnValue()}handleDrag(t,e){return this.trigger(this.onDrag,e,t).getReturnValue()}handleDragEnd(t,e){this.trigger(this.onDragEnd,e,t)}handleKeyDown(t){var e,i,s,o;let l=this.trigger(this.onKeyDown,{row:this.activeRow,cell:this.activeCell},t).isImmediatePropagationStopped();if(!l&&!t.shiftKey&&!t.altKey){if(this._options.editable&&null!=(e=this.currentEditor)&&e.keyCaptureList&&this.currentEditor.keyCaptureList.indexOf(t.which)>-1)return;t.ctrlKey&&"Home"===t.key?this.navigateTopStart():t.ctrlKey&&"End"===t.key?this.navigateBottomEnd():t.ctrlKey&&"ArrowUp"===t.key?this.navigateTop():t.ctrlKey&&"ArrowDown"===t.key?this.navigateBottom():t.ctrlKey&&"ArrowLeft"===t.key||!t.ctrlKey&&"Home"===t.key?this.navigateRowStart():(t.ctrlKey&&"ArrowRight"===t.key||!t.ctrlKey&&"End"===t.key)&&this.navigateRowEnd()}if(!l)if(t.shiftKey||t.altKey||t.ctrlKey)t.which===h.TAB&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&(l=this.navigatePrev());else{if(this._options.editable&&null!=(i=this.currentEditor)&&i.keyCaptureList&&this.currentEditor.keyCaptureList.indexOf(t.which)>-1)return;if(t.which===h.ESCAPE){if(null==(s=this.getEditorLock())||!s.isActive())return;this.cancelEditAndSetFocus()}else t.which===h.PAGE_DOWN?(this.navigatePageDown(),l=!0):t.which===h.PAGE_UP?(this.navigatePageUp(),l=!0):t.which===h.LEFT?l=this.navigateLeft():t.which===h.RIGHT?l=this.navigateRight():t.which===h.UP?l=this.navigateUp():t.which===h.DOWN?l=this.navigateDown():t.which===h.TAB?l=this.navigateNext():t.which===h.ENTER&&(this._options.editable&&(this.currentEditor?this.activeRow===this.getDataLength()?this.navigateDown():this.commitEditAndSetFocus():null!=(o=this.getEditorLock())&&o.commitCurrentEdit()&&this.makeActiveCellEditable(void 0,void 0,t)),l=!0)}if(l){t.stopPropagation(),t.preventDefault();try{t.originalEvent.keyCode=0}catch(t){}}}handleClick(t){var e,i,s;let o=t instanceof l?t.getNativeEvent():t;if(!this.currentEditor&&(o.target!==document.activeElement||o.target.classList.contains("slick-cell"))){let t=this.getTextSelection();this.setFocus(),this.setTextSelection(t)}let n=this.getCellFromEvent(o);if(n&&(null===this.currentEditor||this.activeRow!==n.row||this.activeCell!==n.cell)&&(!(t=this.trigger(this.onClick,{row:n.row,cell:n.cell},t||o)).isImmediatePropagationStopped()&&this.canCellBeActive(n.row,n.cell)&&(null==(e=this.getEditorLock())||!e.isActive()||null!=(i=this.getEditorLock())&&i.commitCurrentEdit()))){this.scrollRowIntoView(n.row,!1);let t=(null==(s=o.target)?void 0:s.className)===a,e=this.columns[n.cell],i=!!(this._options.editable&&null!=e&&e.editor&&this._options.suppressActiveCellChangeOnEdit);this.setActiveCellInternal(this.getCellNode(n.row,n.cell),null,t,i,o)}}handleContextMenu(t){let e=t.target.closest(".slick-cell");e&&(this.activeCellNode===e&&null!==this.currentEditor||this.trigger(this.onContextMenu,{},t))}handleDblClick(t){let e=this.getCellFromEvent(t);!e||null!==this.currentEditor&&this.activeRow===e.row&&this.activeCell===e.cell||(this.trigger(this.onDblClick,{row:e.row,cell:e.cell},t),!t.defaultPrevented&&this._options.editable&&this.gotoCell(e.row,e.cell,!0,t))}handleHeaderMouseEnter(t){let e=p.storage.get(t.target.closest(".slick-header-column"),"column");e&&this.trigger(this.onHeaderMouseEnter,{column:e,grid:this},t)}handleHeaderMouseLeave(t){let e=p.storage.get(t.target.closest(".slick-header-column"),"column");e&&this.trigger(this.onHeaderMouseLeave,{column:e,grid:this},t)}handleHeaderRowMouseEnter(t){let e=p.storage.get(t.target.closest(".slick-headerrow-column"),"column");e&&this.trigger(this.onHeaderRowMouseEnter,{column:e,grid:this},t)}handleHeaderRowMouseLeave(t){let e=p.storage.get(t.target.closest(".slick-headerrow-column"),"column");e&&this.trigger(this.onHeaderRowMouseLeave,{column:e,grid:this},t)}handleHeaderContextMenu(t){let e=t.target.closest(".slick-header-column"),i=e&&p.storage.get(e,"column");this.trigger(this.onHeaderContextMenu,{column:i},t)}handleHeaderClick(t){if(!this.columnResizeDragging){let e=t.target.closest(".slick-header-column"),i=e&&p.storage.get(e,"column");i&&this.trigger(this.onHeaderClick,{column:i},t)}}handlePreHeaderContextMenu(t){this.trigger(this.onPreHeaderContextMenu,{node:t.target},t)}handlePreHeaderClick(t){this.columnResizeDragging||this.trigger(this.onPreHeaderClick,{node:t.target},t)}handleFooterContextMenu(t){let e=t.target.closest(".slick-footerrow-column"),i=e&&p.storage.get(e,"column");this.trigger(this.onFooterContextMenu,{column:i},t)}handleFooterClick(t){let e=t.target.closest(".slick-footerrow-column"),i=e&&p.storage.get(e,"column");this.trigger(this.onFooterClick,{column:i},t)}handleCellMouseOver(t){this.trigger(this.onMouseEnter,{},t)}handleCellMouseOut(t){this.trigger(this.onMouseLeave,{},t)}cellExists(t,e){return!(t<0||t>=this.getDataLength()||e<0||e>=this.columns.length)}getCellFromPoint(t,e){let i=this.getRowFromPosition(e),s=0,o=0;for(let e=0;e<this.columns.length&&o<=t;e++)this.columns[e]&&(o+=this.columns[e].width,s++);return s-=1,i<-1&&(i=-1),{row:i,cell:s}}getCellFromNode(t){let e=/l\d+/.exec(t.className);if(!e)throw new Error(`SlickGrid getCellFromNode: cannot get cell - ${t.className}`);return parseInt(e[0].substr(1,e[0].length-1),10)}getRowFromNode(t){var e;for(let i in this.rowsCache)if(this.rowsCache)for(let s in this.rowsCache[i].rowNode)if((null==(e=this.rowsCache[i].rowNode)?void 0:e[+s])===t)return i?parseInt(i,10):0;return null}getFrozenRowOffset(t){let e=0;return e=this.hasFrozenRows?this._options.frozenBottom?t>=this.actualFrozenRow?this.h<this.viewportTopH?this.actualFrozenRow*this._options.rowHeight:this.h:0:t>=this.actualFrozenRow?this.frozenRowsHeight:0:0,e}getCellFromEvent(t){let e=t instanceof l?t.getNativeEvent():t,i=e.touches?e.touches[0]:e,s=e.target.closest(".slick-cell");if(!s)return null;let o=this.getRowFromNode(s.parentNode);if(this.hasFrozenRows){let t=0,e=p.offset(p.parents(s,".grid-canvas")[0]);p.parents(s,".grid-canvas-bottom").length&&(t=this._options.frozenBottom?p.height(this._canvasTopL):this.frozenRowsHeight),o=this.getCellFromPoint(i.clientX-e.left,i.clientY-e.top+t+document.documentElement.scrollTop).row}let n=this.getCellFromNode(s);return p.isDefined(o)&&p.isDefined(n)?{row:o,cell:n}:null}getCellNodeBox(t,e){var i;if(!this.cellExists(t,e))return null;let s=this.getFrozenRowOffset(t),o=this.getRowTop(t)-s,l=o+this._options.rowHeight-1,n=0;for(let t=0;t<e;t++)!this.columns[t]||this.columns[t].hidden||(n+=this.columns[t].width||0,this._options.frozenColumn===t&&(n=0));return{top:o,left:n,bottom:l,right:n+((null==(i=this.columns[e])?void 0:i.width)||0)}}resetActiveCell(){this.setActiveCellInternal(null,!1)}unsetActiveCell(){var t,e;p.isDefined(this.activeCellNode)&&(this.makeActiveCellNormal(),this.activeCellNode.classList.remove("active"),null==(e=null==(t=this.rowsCache[this.activeRow])?void 0:t.rowNode)||e.forEach((t=>t.classList.remove("active"))))}focus(){this.setFocus()}setFocus(){-1===this.tabbingDirection?this._focusSink.focus():this._focusSink2.focus()}scrollCellIntoView(t,e,i){if(this.scrollRowIntoView(t,i),e<=this._options.frozenColumn)return;let s=this.getColspan(t,e);this.internalScrollColumnIntoView(this.columnPosLeft[e],this.columnPosRight[e+(s>1?s-1:0)])}internalScrollColumnIntoView(t,e){var i,s;let o=this.scrollLeft+p.width(this._viewportScrollContainerX)-(this.viewportHasVScroll&&null!=(s=null==(i=this.scrollbarDimensions)?void 0:i.width)?s:0);t<this.scrollLeft?(this._viewportScrollContainerX.scrollLeft=t,this.handleScroll(),this.render()):e>o&&(this._viewportScrollContainerX.scrollLeft=Math.min(t,e-this._viewportScrollContainerX.clientWidth),this.handleScroll(),this.render())}scrollColumnIntoView(t){this.internalScrollColumnIntoView(this.columnPosLeft[t],this.columnPosRight[t])}setActiveCellInternal(t,e,i,s,o){var l,n;if(this.unsetActiveCell(),this.activeCellNode=t,p.isDefined(this.activeCellNode)){let t=p.offset(this.activeCellNode),s=Math.floor(p.offset(p.parents(this.activeCellNode,".grid-canvas")[0]).top),r=p.parents(this.activeCellNode,".grid-canvas-bottom").length;this.hasFrozenRows&&r&&(s-=this._options.frozenBottom?p.height(this._canvasTopL):this.frozenRowsHeight);let h=this.getCellFromPoint(t.left,Math.ceil(t.top)-s);this.activeRow=h.row,this.activePosY=h.row,this.activeCell=this.activePosX=this.getCellFromNode(this.activeCellNode),!p.isDefined(e)&&this._options.autoEditNewRow&&(e=this.activeRow===this.getDataLength()||this._options.autoEdit),this._options.showCellSelection&&(document.querySelectorAll(".slick-cell.active").forEach((t=>t.classList.remove("active"))),this.activeCellNode.classList.add("active"),null==(n=null==(l=this.rowsCache[this.activeRow])?void 0:l.rowNode)||n.forEach((t=>t.classList.add("active")))),this._options.editable&&e&&this.isCellPotentiallyEditable(this.activeRow,this.activeCell)&&(this._options.asyncEditorLoading?(window.clearTimeout(this.h_editorLoader),this.h_editorLoader=window.setTimeout((()=>{this.makeActiveCellEditable(void 0,i,o)}),this._options.asyncEditorLoadDelay)):this.makeActiveCellEditable(void 0,i,o))}else this.activeRow=this.activeCell=null;s||this.trigger(this.onActiveCellChanged,this.getActiveCell())}clearTextSelection(){var t;if(null!=(t=document.selection)&&t.empty)try{document.selection.empty()}catch(t){}else if(window.getSelection){let t=window.getSelection();null!=t&&t.removeAllRanges&&t.removeAllRanges()}}isCellPotentiallyEditable(t,e){let i=this.getDataLength();return!(t<i&&!this.getDataItem(t)||this.columns[e].cannotTriggerInsert&&t>=i||!this.columns[e]||this.columns[e].hidden||!this.getEditor(t,e))}makeActiveCellNormal(t=!1){var e;if(this.currentEditor){if(this.trigger(this.onBeforeCellEditorDestroy,{editor:this.currentEditor}),this.currentEditor.destroy(),this.currentEditor=null,this.activeCellNode){let e=this.getDataItem(this.activeRow);if(this.activeCellNode.classList.remove("editable"),this.activeCellNode.classList.remove("invalid"),e){let t=this.columns[this.activeCell],i=this.getFormatter(this.activeRow,t)(this.activeRow,this.activeCell,this.getDataItemValueForColumn(e,t),t,e,this);this.applyFormatResultToCellNode(i,this.activeCellNode),this.invalidatePostProcessingResults(this.activeRow)}t&&this.setFocus()}navigator.userAgent.toLowerCase().match(/msie/)&&this.clearTextSelection(),null==(e=this.getEditorLock())||e.deactivate(this.editController)}}editActiveCell(t,e,i){this.makeActiveCellEditable(t,e,i)}makeActiveCellEditable(t,e,i){var s,o,l,n;if(!this.activeCellNode)return;if(!this._options.editable)throw new Error("SlickGrid makeActiveCellEditable : should never get called when this._options.editable is false");if(window.clearTimeout(this.h_editorLoader),!this.isCellPotentiallyEditable(this.activeRow,this.activeCell))return;let r=this.columns[this.activeCell],h=this.getDataItem(this.activeRow);if(!1===this.trigger(this.onBeforeEditCell,{row:this.activeRow,cell:this.activeCell,item:h,column:r,target:"grid"}).getReturnValue())return void this.setFocus();null==(s=this.getEditorLock())||s.activate(this.editController),this.activeCellNode.classList.add("editable");let a=t||this.getEditor(this.activeRow,this.activeCell);if(!a||"function"!=typeof a)return;!t&&!a.suppressClearOnEdit&&p.emptyElement(this.activeCellNode);let d=this.getItemMetadaWhenExists(this.activeRow);d=null==d?void 0:d.columns;let c=d&&(d[r.id]||d[this.activeCell]),u={grid:this,gridPosition:this.absBox(this._container),position:this.absBox(this.activeCellNode),container:this.activeCellNode,column:r,columnMetaData:c,item:h||{},event:i,commitChanges:this.commitEditAndSetFocus.bind(this),cancelChanges:this.cancelEditAndSetFocus.bind(this)};this.currentEditor=new a(u),h&&this.currentEditor&&(this.currentEditor.loadValue(h),e&&null!=(o=this.currentEditor)&&o.preClick&&this.currentEditor.preClick()),this.serializedEditorValue=null==(l=this.currentEditor)?void 0:l.serializeValue(),null!=(n=this.currentEditor)&&n.position&&this.handleActiveCellPositionChange()}commitEditAndSetFocus(){var t;null!=(t=this.getEditorLock())&&t.commitCurrentEdit()&&(this.setFocus(),this._options.autoEdit&&!this._options.autoCommitEdit&&this.navigateDown())}cancelEditAndSetFocus(){var t;null!=(t=this.getEditorLock())&&t.cancelCurrentEdit()&&this.setFocus()}absBox(t){let e={top:t.offsetTop,left:t.offsetLeft,bottom:0,right:0,width:t.offsetWidth,height:t.offsetWidth,visible:!0};e.bottom=e.top+e.height,e.right=e.left+e.width;let i=t.offsetParent;for(;(t=t.parentNode)!==document.body&&t&&t.parentNode;){let s=getComputedStyle(t);e.visible&&t.scrollHeight!==t.offsetHeight&&"visible"!==s.overflowY&&(e.visible=e.bottom>t.scrollTop&&e.top<t.scrollTop+t.clientHeight),e.visible&&t.scrollWidth!==t.offsetWidth&&"visible"!==s.overflowX&&(e.visible=e.right>t.scrollLeft&&e.left<t.scrollLeft+t.clientWidth),e.left-=t.scrollLeft,e.top-=t.scrollTop,t===i&&(e.left+=t.offsetLeft,e.top+=t.offsetTop,i=t.offsetParent),e.bottom=e.top+e.height,e.right=e.left+e.width}return e}getActiveCellPosition(){return this.absBox(this.activeCellNode)}getGridPosition(){return this.absBox(this._container)}handleActiveCellPositionChange(){if(this.activeCellNode&&(this.trigger(this.onActiveCellPositionChanged,{}),this.currentEditor)){let t=this.getActiveCellPosition();this.currentEditor.show&&this.currentEditor.hide&&(t.visible?this.currentEditor.show():this.currentEditor.hide()),this.currentEditor.position&&this.currentEditor.position(t)}}getCellEditor(){return this.currentEditor}getActiveCell(){return this.activeCellNode?{row:this.activeRow,cell:this.activeCell}:null}getActiveCellNode(){return this.activeCellNode}getTextSelection(){var t;let e=null;if(window.getSelection){let i=window.getSelection();(null!=(t=null==i?void 0:i.rangeCount)?t:0)>0&&(e=i.getRangeAt(0))}return e}setTextSelection(t){if(window.getSelection&&t){let e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(t))}}scrollRowIntoView(t,e){var i,s;if(!this.hasFrozenRows||!this._options.frozenBottom&&t>this.actualFrozenRow-1||this._options.frozenBottom&&t<this.actualFrozenRow-1){let o=p.height(this._viewportScrollContainerY),l=this.hasFrozenRows&&!this._options.frozenBottom?t-this._options.frozenRow:t,n=l*this._options.rowHeight,r=(l+1)*this._options.rowHeight-o+(this.viewportHasHScroll&&null!=(s=null==(i=this.scrollbarDimensions)?void 0:i.height)?s:0);(l+1)*this._options.rowHeight>this.scrollTop+o+this.offset?(this.scrollTo(e?n:r),this.render()):l*this._options.rowHeight<this.scrollTop+this.offset&&(this.scrollTo(e?r:n),this.render())}}scrollRowToTop(t){this.scrollTo(t*this._options.rowHeight),this.render()}scrollPage(t){let e=t*this.numVisibleRows,i=this.scrollTop+this._options.rowHeight-1;if(this.scrollTo((this.getRowFromPosition(i)+e)*this._options.rowHeight),this.render(),this._options.enableCellNavigation&&p.isDefined(this.activeRow)){let i=this.activeRow+e,s=this.getDataLengthIncludingAddNew();i>=s&&(i=s-1),i<0&&(i=0);let o=1===t?this.gotoDown(i-1||0,this.activeCell,this.activePosY,this.activePosX):this.gotoUp(i+1,this.activeCell,this.activePosY,this.activePosX);this.navigateToPos(o)}}navigatePageDown(){this.scrollPage(1)}navigatePageUp(){this.scrollPage(-1)}navigateTop(){this.unsetActiveCell(),this.navigateToRow(0)}navigateBottom(){var t,e;let i=this.getDataLength()-1,s=null!=(e=null==(t=this.getParentRowSpanByCell(i,this.activeCell))?void 0:t.start)?e:i;do{if(this._options.enableCellRowSpan&&this.setActiveRow(s),this.navigateToRow(s)&&this.activeCell===this.activePosX||!p.isDefined(this.activeCell))break}while(--s>0)}navigateToRow(t){let e=this.getDataLength();if(!e)return!1;t<0?t=0:t>=e&&(t=e-1),this.scrollCellIntoView(t,0,!0);let i=!p.isDefined(this.activeCell)||!p.isDefined(this.activeRow);if(this._options.enableCellNavigation&&p.isDefined(this.activeRow)){let e=0,s=null,o=this.activePosX;for(;e<=this.activePosX;)this.canCellBeActive(t,e)&&(s=e,(!p.isDefined(this.activeCell)||e===this.activeCell)&&(i=!0)),e+=this.getColspan(t,e);null!==s?(this.setActiveCellInternal(this.getCellNode(t,s)),this.activePosX=o):this.resetActiveCell()}return i}getColspan(t,e){let i=this.getItemMetadaWhenExists(t);if(!i||!i.columns)return 1;e>=this.columns.length&&(e=this.columns.length-1);let s=i.columns[this.columns[e].id]||i.columns[e],o=null==s?void 0:s.colspan;return o="*"===o?this.columns.length-e:o||1,o}getRowspan(t,e){let i=1,s=this.getItemMetadaWhenExists(t);return null!=s&&s.columns&&Object.keys(s.columns).forEach((t=>{let o=Number(t);if(o===e){let t=s.columns[o];i=Number((null==t?void 0:t.rowspan)||1)}})),i}findFocusableRow(t,e,i){let s=t,o=this._colsWithRowSpanCache[e]||new Set,l=!1;return Array.from(o).forEach((o=>{let[n,r]=o.split(":").map(Number);!l&&t>=n&&t<=r&&(s="up"===i?n:r,this.canCellBeActive(s,e)&&(l=!0))})),s<0&&(s=0),s}findFirstFocusableCell(t){let e=0,i=t,s=-1;for(;e<this.columns.length;){let o=this.getParentRowSpanByCell(t,e);if(i=null!==o&&o.start!==t?o.start:t,this.canCellBeActive(i,e)){s=e;break}e+=this.getColspan(i,e)}return{cell:s,row:i}}findLastFocusableCell(t){let e=0,i=t,s=-1;for(;e<this.columns.length;){let o=this.getParentRowSpanByCell(t,e);i=null!==o&&o.start!==t?o.start:t,this.canCellBeActive(i,e)&&(s=e),e+=this.getColspan(i,e)}return{cell:s,row:i}}findSpanStartingCell(t,e){let i=this.getParentRowSpanByCell(t,e),s=null!==i&&i.start!==t?i.start:t,o=0,l=0;for(;o<this.columns.length;){if(o+=this.getColspan(s,o),o>e)return o=l,{cell:o,row:s};l=o}return{cell:o,row:s}}gotoRight(t,e,i,s){if(e>=this.columns.length)return null;let o=e+1,l=i;do{let t=this.findSpanStartingCell(i,o);if(l=t.row,o=t.cell,this.canCellBeActive(l,o)&&o>e)break;o+=this.getColspan(l,t.cell)}while(o<this.columns.length);return o<this.columns.length?{row:l,cell:o,posX:o,posY:i}:null}gotoLeft(t,e,i,s){if(e<=0)return null;let o=this.findFirstFocusableCell(t);if(null===o.cell||o.cell>=e)return null;let l,n={row:t,cell:o.cell,posX:o.cell,posY:i};for(;;){if(l=this.gotoRight(n.row,n.cell,n.posY,n.posX),!l)return null;if(l.cell>=e){let t=this.findFocusableRow(i,n.cell,"up");return t!==n.row&&(n.row=t),n}n=l}}gotoDown(t,e,i,s){let o,l=this.getDataLengthIncludingAddNew();do{for(t+=this.getRowspan(t,s),o=e=0;e<=s;)o=e,e+=this.getColspan(t,e)}while(t<=l&&!this.canCellBeActive(t,o));return t<=l?{row:t,cell:o,posX:s,posY:t}:null}gotoUp(t,e,i,s){let o;if(t<=0)return null;do{for(t=this.findFocusableRow(t-1,s,"up"),o=e=0;e<=s;)o=e,e+=this.getColspan(t,e)}while(t>=0&&!this.canCellBeActive(t,o));return e<=this.columns.length?{row:t,cell:o,posX:s,posY:t}:null}gotoNext(t,e,i,s){var o,l;if(!p.isDefined(t)&&!p.isDefined(e)&&(t=e=i=s=0,this.canCellBeActive(t,e)))return{row:t,cell:e,posX:e,posY:i};let n=this.gotoRight(t,e,i,s);if(!n){let e;for(;!n&&++i<this.getDataLength()+(this._options.enableAddRow?1:0);)e=this.findFirstFocusableCell(i),null!==e.cell&&(n={row:t=null!=(l=null==(o=this.getParentRowSpanByCell(i,e.cell))?void 0:o.start)?l:i,cell:e.cell,posX:e.cell,posY:i})}return n}gotoPrev(t,e,i,s){var o,l;if(!p.isDefined(t)&&!p.isDefined(e)&&(t=i=this.getDataLengthIncludingAddNew()-1,e=s=this.columns.length-1,this.canCellBeActive(t,e)))return{row:t,cell:e,posX:e,posY:i};let n=this.gotoLeft(t,e,i,s);if(!n){let e;for(;!n&&--i>=0;)e=this.findLastFocusableCell(i),e.cell>-1&&(n={row:t=null!=(l=null==(o=this.getParentRowSpanByCell(i,e.cell))?void 0:o.start)?l:i,cell:e.cell,posX:e.cell,posY:i})}return n}gotoRowStart(t,e,i,s){let o=this.findFirstFocusableCell(t);return null===o.cell?null:{row:o.row,cell:o.cell,posX:o.cell,posY:t}}gotoRowEnd(t,e,i,s){let o=this.findLastFocusableCell(t);return-1===o.cell?null:{row:o.row,cell:o.cell,posX:o.cell,posY:t}}navigateRight(){return this.navigate("right")}navigateLeft(){return this.navigate("left")}navigateDown(){return this.navigate("down")}navigateUp(){return this.navigate("up")}navigateNext(){return this.navigate("next")}navigatePrev(){return this.navigate("prev")}navigateRowStart(){return this.navigate("home")}navigateRowEnd(){return this.navigate("end")}navigateTopStart(){return this.navigateToRow(0),this.navigate("home")}navigateBottomEnd(){return this.navigateBottom(),this.navigate("end")}navigate(t){var e;if(!this._options.enableCellNavigation||!this.activeCellNode&&"prev"!==t&&"next"!==t)return!1;if(null==(e=this.getEditorLock())||!e.commitCurrentEdit())return!0;this.setFocus(),this.unsetActiveCell();this.tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1,home:-1,end:1}[t];let i={up:this.gotoUp,down:this.gotoDown,left:this.gotoLeft,right:this.gotoRight,prev:this.gotoPrev,next:this.gotoNext,home:this.gotoRowStart,end:this.gotoRowEnd}[t].call(this,this.activeRow,this.activeCell,this.activePosY,this.activePosX);return this.navigateToPos(i)}navigateToPos(t){if(t){if(this.hasFrozenRows&&this._options.frozenBottom&&t.row===this.getDataLength())return;let e=t.row===this.getDataLength();return(!this._options.frozenBottom&&t.row>=this.actualFrozenRow||this._options.frozenBottom&&t.row<this.actualFrozenRow)&&this.scrollCellIntoView(t.row,t.cell,!e&&this._options.emulatePagingWhenScrolling),this.setActiveCellInternal(this.getCellNode(t.row,t.cell)),this.activePosX=t.posX,this.activePosY=t.posY,!0}return this.setActiveCellInternal(this.getCellNode(this.activeRow,this.activeCell)),!1}getCellNode(t,e){if(this.rowsCache[t]){this.ensureCellNodesInRowsCache(t);try{return this.rowsCache[t].cellNodesByColumnIdx.length>e?this.rowsCache[t].cellNodesByColumnIdx[e]:null}catch(i){return this.rowsCache[t].cellNodesByColumnIdx[e]}}return null}setActiveCell(t,e,i,s,o){this.initialized&&(t>this.getDataLength()||t<0||e>=this.columns.length||e<0||this._options.enableCellNavigation&&(this.scrollCellIntoView(t,e,!1),this.setActiveCellInternal(this.getCellNode(t,e),i,s,o)))}setActiveRow(t,e,i){this.initialized&&(t>this.getDataLength()||t<0||(null!=e?e:0)>=this.columns.length||(null!=e?e:0)<0||(this.activeRow=t,i||this.scrollCellIntoView(t,e||0,!1)))}canCellBeActive(t,e){var i,s,o,l;if(!this._options.enableCellNavigation||t>=this.getDataLengthIncludingAddNew()||t<0||e>=this.columns.length||e<0||!this.columns[e]||this.columns[e].hidden||(null!=(s=null==(i=this.getParentRowSpanByCell(t,e))?void 0:i.start)?s:t)!==t)return!1;let n=this.getItemMetadaWhenExists(t);if(void 0!==(null==n?void 0:n.focusable))return!!n.focusable;let r=null==n?void 0:n.columns;return void 0!==(null==(o=null==r?void 0:r[this.columns[e].id])?void 0:o.focusable)?!!r[this.columns[e].id].focusable:void 0!==(null==(l=null==r?void 0:r[e])?void 0:l.focusable)?!!r[e].focusable:!!this.columns[e].focusable}canCellBeSelected(t,e){if(t>=this.getDataLength()||t<0||e>=this.columns.length||e<0||!this.columns[e]||this.columns[e].hidden)return!1;let i=this.getItemMetadaWhenExists(t);if(void 0!==(null==i?void 0:i.selectable))return!!i.selectable;let s=(null==i?void 0:i.columns)&&(i.columns[this.columns[e].id]||i.columns[e]);return void 0!==(null==s?void 0:s.selectable)?!!s.selectable:!!this.columns[e].selectable}gotoCell(t,e,i,s){var o;if(!this.initialized||!this.canCellBeActive(t,e)||null==(o=this.getEditorLock())||!o.commitCurrentEdit())return;this.scrollCellIntoView(t,e,!1);let l=this.getCellNode(t,e),n=this.columns[e],r=!!(this._options.editable&&null!=n&&n.editor&&this._options.suppressActiveCellChangeOnEdit);this.setActiveCellInternal(l,i||t===this.getDataLength()||this._options.autoEdit,null,r,s),this.currentEditor||this.setFocus()}commitCurrentEdit(){var t;let e=this,i=e.getDataItem(e.activeRow),s=e.columns[e.activeCell];if(e.currentEditor){if(e.currentEditor.isValueChanged()){let o=e.currentEditor.validate();if(o.valid){let o=e.activeRow,l=e.activeCell,n=e.currentEditor,r=e.currentEditor.serializeValue(),h=e.serializedEditorValue;if(e.activeRow<e.getDataLength()){let t={row:o,cell:l,editor:n,serializedValue:r,prevSerializedValue:h,execute:()=>{n.applyValue(i,r),e.updateRow(o),e.trigger(e.onCellChange,{command:"execute",row:o,cell:l,item:i,column:s})},undo:()=>{n.applyValue(i,h),e.updateRow(o),e.trigger(e.onCellChange,{command:"undo",row:o,cell:l,item:i,column:s})}};e._options.editCommandHandler?(e.makeActiveCellNormal(!0),e._options.editCommandHandler(i,s,t)):(t.execute(),e.makeActiveCellNormal(!0))}else{let t={};e.currentEditor.applyValue(t,e.currentEditor.serializeValue()),e.makeActiveCellNormal(!0),e.trigger(e.onAddNewRow,{item:t,column:s})}return!(null!=(t=e.getEditorLock())&&t.isActive())}return e.activeCellNode&&(e.activeCellNode.classList.remove("invalid"),p.width(e.activeCellNode),e.activeCellNode.classList.add("invalid")),e.trigger(e.onValidationError,{editor:e.currentEditor,cellNode:e.activeCellNode,validationResults:o,row:e.activeRow,cell:e.activeCell,column:s}),e.currentEditor.focus(),!1}e.makeActiveCellNormal(!0)}return!0}cancelCurrentEdit(){return this.makeActiveCellNormal(),!0}rowsToRanges(t){let e=[],i=this.columns.length-1;for(let s=0;s<t.length;s++)e.push(new d(t[s],0,t[s],i));return e}getSelectedRows(){if(!this.selectionModel)throw new Error("SlickGrid Selection model is not set");return this.selectedRows.slice(0)}setSelectedRows(t,e){var i;if(!this.selectionModel)throw new Error("SlickGrid Selection model is not set");this&&this.getEditorLock&&(null==(i=this.getEditorLock())||!i.isActive())&&this.selectionModel.setSelectedRanges(this.rowsToRanges(t),e||"SlickGrid.setSelectedRows")}sanitizeHtmlString(t,e){if(!this._options.sanitizer||"string"!=typeof t)return t;let i=this._options.sanitizer(t);return!e&&this._options.logSanitizedHtml&&this.logMessageCount<=this.logMessageMaxCount&&i!==t&&(console.log(`sanitizer altered html: ${t} --\x3e ${i}`),this.logMessageCount===this.logMessageMaxCount&&console.log(`sanitizer: silencing messages after first ${this.logMessageMaxCount}`),this.logMessageCount++),i}}})})();
/**
 * @license
 * (c) 2009-present Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v5.15.0
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing JS DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */
//# sourceMappingURL=/sm/e71e307893c5e1b3e76af5bbf77d15e4cd1131051f34b38b256e235d796f1ee7.map